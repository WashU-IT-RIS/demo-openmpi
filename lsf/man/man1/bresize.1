
.ad l

.TH bresize 1 "July 2021" "" ""
.ll 72

.ce 1000
\fBbresize\fR
.ce 0

.sp 2
Decreases or increases tasks that are allocated to a running
resizable job, or cancels pending job resize allocation requests.
.sp 2

.SH Synopsis

.sp 2
\fBbresize\fR subcommand
.sp 2
\fBbresize\fR [\fB-h\fR | \fB-V\fR]
.SH Subcommand List

.sp 2
\fBrelease\fR [\fB-c\fR] [\fB-rnc\fR resize_notification_cmd |
\fB-rncn\fR] released_host_specification job_ID
.sp 2
\fBrequest\fR [\fB-c\fR] [\fB-rnc\fR resize_notification_cmd |
\fB-rncn\fR] [min_task\fB,\fR] tasks job_ID
.sp 2
\fBcancel\fR job_ID
.SH Description

.sp 2
Use the bresize release command to explicitly release tasks from
a running job. When you release tasks from an allocation, a
minimum of one task on the first execution host must be retained.
Only hosts (and not host groups or compute units) can be released
by using the bresize release command. When you release tasks from
compound resource requirements, you can release only tasks that
are represented by the last term of the compound resource
requirement. To release tasks in earlier terms, run bresize
release repeatedly to release tasks in subsequent last terms.
.sp 2
Use the bresize request command to trigger a manual request for
additional allocated tasks. LSF pends the request if the queue
cannot meet the minimum tasks request or if the request is over
the \fBTASKLIMIT\fR value for the queue or application profile.
Changing the \fBTASKLIMIT\fR value does not affect any requests
that are already accepted. For compound resource requirements,
the request only applies to the last term. For alternative
resource requirements, the request only applies to the term that
was used for the initial task allocation. For autoresizable jobs,
if there is pending demand, you must first cancel the previous
pending demand by running the brequest request -c or bresize
cancel commands. After triggering this manual request, the job is
no longer autoresizable unless you requeue or rerun the job.
.sp 2
Use bresize cancel to cancel a pending allocation request for the
specified job ID. The active pending allocation request is
generated by LSF automatically for autoresizable jobs. If the job
does not have an active pending request, the command fails with
an error message.
.sp 2
By default, only cluster administrators, queue administrators,
root, and the job owner are allowed to run bresize to change job
allocations.
.sp 2
User group administrators are allowed to run bresize to change
the allocation of jobs within their user groups.
.SH Options

.sp 2
\fB-c \fR
.br
         Optional. Cancel the active pending resource request
         when you release tasks from existing allocation (for the
         release subcommand) or before accepting new grow
         requests (for the request subcommand). By default, the
         command releases tasks only for jobs without pending
         requests.
.sp 2
\fB-rnc \fIresize_notification_cmd\fB\fR
.br
         Optional. Specify the name of an executable file to be
         started on the first execution host when the job
         allocation was modified. This setting applies only to
         this request, which overrides any notification command
         that is specified in the bsub command or an application
         profile. The resize notification command runs under the
         user account of the job owner.
.sp 2
\fB-rncn\fR
.br
         Cancels the resize notification command at both
         job-level and application-level. This setting applies
         only to this request.
.sp 2
\fB\fIreleased_host_specification\fB\fR
.br
         Required with the release subcommand. Defines the list
         of hosts to be released. The following syntax is the
         EBNF definition of the released host specification:
.sp 2
         <released_host_spec> ::= all | all <exclude_host_list_spec>
.br
          | <host_list_spec><host_list_spec> ::= <host_spec>
.br
          | <host_list_spec><host_spec><exclude_host_list_spec>
.br
          ::= <exclude_host_spec> | <exclude_host_list_spec> <exclude_host_spec> <exclude_host_spec>
.br
          ::= ~<host_spec> <host_spec>
.br
          ::= [<positive_integer>*]<host_name>
.sp 2
         \fBall\fR
.br
                  Specifies all the tasks currently being used by
                  the job. If the all option is used alone, it
                  means release every task except one task from
                  the first execution node. The all option can
                  also be used with a list of hosts to exclude
                  with the tilde (not) operator (~).
.sp 2
         \fB\fIhost_spec\fB\fR
.br
                  Release the number of tasks that are specified
                  by \fIpositive_integer\fR on the host that is
                  specified by \fIhost_name\fR. If the number of
                  tasks is not specified, all tasks on the
                  specified host are released.
.sp 2
         \fB~\fR
.br
                  Specifies hosts to exclude when you release
                  tasks. Tasks on the specified hosts are not
                  released. The tilde (not) operator (~) must be
                  used together with all keyword.
.sp 2
\fB\fImin_task\fB\fR
.br
         Optional. The minimum number of tasks to be added to the
         job. LSF pends the manual job resize request if the
         queue cannot meet the minimum tasks request.
.sp 2
\fB\fItask\fB\fR
.br
         Required for the request subcommand. The maximum number
         of tasks to be added to the job.
.sp 2
\fB\fIjob_ID\fB\fR
.br
         Required. The job ID of the job to be resized. For job
         arrays, this also includes the array index.
.sp 2
\fB-h\fR
.br
         Prints command usage to stderr and exits.
.sp 2
\fB-V\fR
.br
         Prints release version to stderr and exits.
.SH Examples

.sp 2
The following examples all resize a job with ID 100.
.sp 2
For a job that uses 8 tasks across 4 nodes (2 on \fRhostA\fR, 2
on hostB, 2 on \fRhostC\fR, and 2 on \fRhostD\fR, the following
command releases all tasks except the tasks on \fRhostA\fR. After
the tasks are released, the job allocation becomes just 2 on
\fRhostA\fR:
.sp 2
bresize release "all ~hostA" 100
.br

.sp 2
The following command releases all tasks except one task from
\fRhostA\fR. After the tasks are released, the job allocation
becomes 1 on \fRhostA\fR:
.sp 2
bresize release all 100 or bresize release "all ~1*hostA" 100
.br

.sp 2
The following command releases 1 task from each of four hosts.
After the tasks are released, the job allocation becomes 1 on
\fRhostA\fR, 1 on \fRhostB\fR, 1 on \fRhostC\fR, and 1 on
\fRhostD\fR:
.sp 2
bresize release "1*hostA 1*hostB 1*hostC 1*hostD"  100
.br

.sp 2
The following command requests a total of 10 tasks to be added to
the job. The request pends if LSF cannot add all 10 requested
tasks to the job:
.sp 2
bresize request 10 100
.sp 2
The following command requests a minimum of 4 and a total of 10
tasks to be added to the job. The request pends if LSF cannot add
at least 4 tasks to the job.
.sp 2
bresize request 4,10 100
.SH See also

.sp 2
bsub, lsb.applications