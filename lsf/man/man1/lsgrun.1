
.ad l

.TH lsgrun 1 "July 2021" "" ""
.ll 72

.ce 1000
\fBlsgrun\fR
.ce 0

.sp 2
Runs a task on a group of hosts.
.sp 2

.SH Synopsis

.sp 2
\fBlsgrun\fR [\fB-i\fR] [\fB-p\fR] [\fB-P\fR] [\fB-S\fR]
[\fB-v\fR] \fB-R "\fRres_req\fB"\fR [command [argument ...]]
.sp 2
\fBlsgrun\fR [\fB-i\fR] [\fB-p\fR] [\fB-P\fR] [\fB-S\fR]
[\fB-v\fR] \fB-f\fR host_file [command [argument ...]]
.sp 2
\fBlsgrun\fR [\fB-i\fR] [\fB-p\fR] [\fB-P\fR] [\fB-S\fR]
[\fB-v\fR] \fB-m\fR host_name ... [command [argument ...]]
.sp 2
\fBlsgrun\fR [\fB-h\fR | \fB-V\fR]
.sp 2
\fBlsgrun\fR [\fB-i\fR] [\fB-p\fR] [\fB-P\fR] [\fB-S\fR]
[\fB-v\fR] [\fB-R "\fRres_req\fB"\fR] \fB-n\fR num_hosts [command
[argument ...]]
.SH Description

.sp 2
Use the lsgrun command for fast global operations such as
starting daemons, replicating files to or from local disks,
looking for processes that are running on all hosts, checking who
is logged in on each host. The hosts can be specified by using a
host file, a list of host names or by letting the system select
the hosts. If the \fBLSB_DISABLE_LIMLOCK_EXCL=y\fR parameter is
set to enable preemption of exclusive jobs, for example, you can
use the lsgrun command to start a task on hosts that are running
exclusive jobs.
.sp 2
The lsgrun command has the following default behavior:
.sp 2
*  The lsgrun command is not interactive.
.sp 2
*  The specified task runs sequentially on hosts with full
   pseudoterminal (\fRtty\fR) support.
.sp 2
*  The lsgrun command does not create a pseudo-terminal.
.sp 2
*  LSF uses as many processors as available to run the specified
   task.
.sp 2
*  The resource requirement for host selection is \fRr15s:pg.\fR
.sp 2
*  The prompt \fRCommand>\fR is displayed to allow users to type
   in a command as the task. The command prompt is terminated by
   a \fRCTRL-D\fR or \fREOF\fR. The command then runs on the
   specified hosts.
.sp 2
The \fR-f \fIhost_file\fR\fR, \fR-m \fIhost_name\fR\fR, or \fR-n
\fInum_processors\fR\fR options are required. These options are
mutually exclusive.
.sp 2
If the \fBLSF_UGROUP_TRANSFER\fR parameter is enabled in the
lsf.conf file, tasks in the execution side that the lsgrun
command runs use the UNIX group information that is set by the
user on the client side.
.SH Options

.sp 2
\fB-i \fR
.br
         Interactive operation mode. You are asked whether the
         task is to run on all hosts. If you answer y, the task
         is started on all specified hosts; otherwise, you are
         asked to specify hosts interactively.
.sp 2
\fB-P\fR
.br
         Creates a pseudo-terminal on UNIX and Linux hosts to run
         programs that require a pseudo-terminal, for example,
         the vi command.
.sp 2
         The -P option is not supported on Windows.
.sp 2
\fB-p \fR
.br
         Parallel run mode. Runs the task on all hosts
         simultaneously and without pseudoterminal \fRtty\fR
         support.
.sp 2
         If the -p option is specified with the -P option, the -P
         option is ignored.
.sp 2
         Use this option for fast start-up of tasks. However, any
         output from remote tasks arrives at the terminal in
         arbitrary order, depending on task execution speeds on
         individual hosts.
.sp 2
\fB-S \fR
.br
         Creates a pseudo-terminal with shell mode support on
         UNIX hosts.
.sp 2
         Shell mode support is required for running interactive
         shells or applications that redefine the CTRL-C and
         CTRL-Z keys, such as jove.
.sp 2
         The -S option is not supported on Windows.
.sp 2
\fB-v \fR
.br
         Verbose mode. Displays the name of the host or hosts
         running the task.
.sp 2
\fB-f \fIhost_file\fB\fR
.br
         Runs the task on all hosts that are listed in the file
         that is specified by the \fIhost_file\fR argument.
.sp 2
         Specify a file that contains a list of host names. Host
         names must be separated by white space characters (for
         example, SPACE, TAB, and NEWLINE).
.sp 2
         This option is exclusive of options -n, -R, and -m.
.sp 2
\fB-m \fIhost_name\fB ...\fR
.br
         Either -f \fIhost_file\fR, -m \fIhost_name\fR or -n
         \fInum_processors\fR is required.
.sp 2
         Runs the task on all specified hosts.
.sp 2
         Specify hosts on which to run the task. If multiple host
         names are specified, the host names must be enclosed by
         quotation marks (\fR"\fR or \fR\(aq\fR) and separated by
         white space.
.sp 2
         This option is exclusive of options -n, -R, and -f.
.sp 2
\fB-n \fInum_hosts\fB\fR
.br
         Runs the task in a cluster with the required number of
         available hosts.
.sp 2
         One host can be used to start several tasks if the host
         is multiprocessor. This option can be used together with
         option -R to select hosts.
.sp 2
         This option is exclusive of options -m and -f.
.sp 2
\fB-R "\fIres_req\fB"\fR
.br
         Runs the task on hosts with the required resource
         requirements.
.sp 2
         Specify the resource requirement expression for host
         selection. Unless a \fRtype == value\fR expression is in
         \fIres_req\fR to specify otherwise, the resource
         requirement is used to choose from all hosts with the
         same host type as the local host.
.sp 2
         The -R option can be used together with option -n to
         choose a specified number of processors to run the task.
.sp 2
         Exclusive resources need to be explicitly specified
         within the resource requirement string. For example, a
         resource that is called \fRbigmem\fR is defined in the
         lsf.shared file and defined it as an exclusive resource
         for \fRhostE\fR in lsf.cluster.mycluster. Use the
         following command to submit a task to run on
         \fRhostE\fR:
.sp 2
         lsgrun -R "bigmem" myjob
.br

.sp 2
         Or
.sp 2
         lsgrun -R "defined(bigmem)" myjob
.br

.sp 2
         If the -m option is specified with a single host name,
         the -R option is ignored.
.sp 2
\fB\fIcommand\fB [\fIargument\fB ...]\fR
.br
         Specify the command to run. The command must be the last
         argument on the command line.
.sp 2
\fB-h\fR
.br
         Prints command usage to stderr and exits.
.sp 2
\fB-V \fR
.br
         Prints LSF release version to stderr and exits.
.SH Diagnostics

.sp 2
Exit status is 0 if all tasks run correctly.
.sp 2
If tasks do not run correct, the exit status is the first nonzero
status that is returned by a remote task. The lsgrun command runs
the task on all hosts even if some have nonzero exit status.
.sp 2
Exit status is -10 if a problem is detected in LSF.
.SH See also

.sp 2
lsrun, lsplace