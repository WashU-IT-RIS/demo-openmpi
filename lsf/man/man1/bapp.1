
.ad l

.TH bapp 1 "July 2021" "" ""
.ll 72

.ce 1000
\fBbapp\fR
.ce 0

.sp 2
Displays information about application profile configuration.
.sp 2

.SH Synopsis

.sp 2
\fBbapp\fR [\fB-alloc\fR] [\fB-l\fR | \fB-w\fR]
[application_profile ...]
.sp 2
\fBbapp\fR [\fB-h\fR | \fB-V\fR]
.SH Description

.sp 2
Displays information about application profiles that are
configured in the lsb.applications file.
.sp 2
Returns application name, task statistics, and job state
statistics for all application profiles.
.sp 2
In the LSF multicluster capability, returns the information about
all application profiles in the local cluster.
.sp 2
Returns job slot statistics if the -alloc option is used.
.sp 2
CPU time is normalized.
.SH Options

.sp 2
\fB-alloc\fR
.br
         Shows counters for slots in \fRRUN\fR, \fRSSUSP\fR,
         \fRUSUSP\fR, and \fRRSV\fR state. The slot allocation is
         different depending on whether the job is an exclusive
         job or not.
.sp 2
\fB-w \fR
.br
         Wide format. Fields are displayed without truncation.
.sp 2
\fB-l \fR
.br
         Long format with additional information.
.sp 2
         Displays the following additional information about the
         application profile:
.sp 2
         *  Description
.sp 2
         *  Profile characteristics and statistics
.sp 2
         *  Parameters
.sp 2
         *  Resource usage limits
.sp 2
         *  Associated commands
.sp 2
         *  Binding policy
.sp 2
         *  \fBNICE\fR value
.sp 2
         *  Job controls
.sp 2
         *  Pending time limits
.sp 2
         *  Eligible pending time limits
.sp 2
         *  APS priority factors
.sp 2
\fB\fIapplication_profile\fB ... \fR
.br
         Displays information about the specified application
         profile.
.sp 2
\fB-h \fR
.br
         Prints command usage to stderr and exits.
.sp 2
\fB-V \fR
.br
         Prints product release version to stderr and exits.
.SH Default output format

.sp 2
Displays the following fields:
.sp 2
\fBAPPLICATION_NAME\fR
.br
         The name of the application profile. Application
         profiles are named to correspond to the type of
         application that usually runs within them.
.sp 2
\fBNJOBS \fR
.br
         The total number of tasks for all jobs that are
         currently held in the application profile. The total
         includes tasks in pending, running, and suspended jobs.
.sp 2
         If the -alloc option is used, total is the sum of the
         counters for \fRRUN\fR, \fRSSUSP\fR, \fRUSUSP\fR, and
         \fRRSV\fR states.
.sp 2
\fBPEND\fR
.br
         The number of tasks for all pending jobs in the
         application profile. If used with the -alloc option,
         output is \fR0\fR, because pending jobs do not have slot
         allocation.
.sp 2
\fBRUN\fR
.br
         The number of tasks for all running jobs in the
         application profile. If the -alloc option is used, the
         total is allocated slots for the jobs in the application
         profile.
.sp 2
\fBSUSP\fR
.br
         The number of tasks for all suspended jobs in the
         application profile. If the -alloc option is used, the
         total is allocated slots for the jobs in the application
         profile.
.SH Long output format with the -l option

.sp 2
In addition to the default output fields, the -l option displays
the following fields:
.sp 2
\fBDescription\fR
.br
         A description of the typical use of the application
         profile.
.sp 2
\fBPARAMETERS/STATISTICS\fR
.br
         \fBSSUSP\fR
.br
                  The number of tasks for all jobs in the
                  application profile that are suspended by LSF
                  because of load levels or run windows.
.sp 2
         \fBUSUSP\fR
.br
                  The number of tasks for all jobs in the
                  application profile that are suspended by the
                  job submitter or by the LSF administrator.
.sp 2
         \fBRSV\fR
.br
                  The number of tasks that reserve slots for
                  pending jobs in the application profile.
.sp 2
         \fBENV_VARS\fR
.br
                  The name-value pairs that are defined by the
                  application-specific environment variables.
.sp 2
\fBPer-job resource usage limits\fR
.br
         The soft resource usage limits that are imposed on the
         jobs that are associated with the application profile.
         These limits are imposed on a per-job and a per-process
         basis.
.sp 2
         The following per-job limits are supported:
.sp 2
         \fBCPULIMIT\fR
.br
                  The maximum CPU time a job can use, in minutes,
                  relative to the CPU factor of the named host.
                  The \fRCPULIMIT\fR is scaled by the CPU factor
                  of the execution host so that jobs are allowed
                  more time on slower hosts.
.sp 2
         \fBMEMLIMIT\fR
.br
                  The maximum running set size (RSS) of a
                  process.
.sp 2
                  By default, the limit is shown in KB. Use the
                  \fBLSF_UNIT_FOR_LIMITS\fR parameter in the
                  lsf.conf file to specify a larger unit for
                  display (MB, GB, TB, PB, or EB).
.sp 2
         \fBMEMLIMIT_TYPE\fR
.br
                  A memory limit is the maximum amount of memory
                  a job is allowed to consume. Jobs that exceed
                  the level are killed. You can specify different
                  types of memory limits to enforce, based on
                  \fRPROCESS\fR, \fRTASK\fR, or \fRJOB\fR (or any
                  combination of the three).
.sp 2
         \fBPROCESSLIMIT\fR
.br
                  The maximum number of concurrent processes that
                  are allocated to a job.
.sp 2
         \fBSWAPLIMIT\fR
.br
                  The swap space limit that a job can use.
.sp 2
                  By default, the limit is shown in KB. Use the
                  \fBLSF_UNIT_FOR_LIMITS\fR parameter in the
                  lsf.conf file to specify a larger unit for
                  display (MB, GB, TB, PB, or EB).
.sp 2
         \fBTASKLIMIT\fR
.br
                  The maximum number of tasks that are allocated
                  to a job.
.sp 2
         \fBTHREADLIMIT \fR
.br
                  The maximum number of concurrent threads that
                  are allocated to a job.
.sp 2
\fBPer-process resource usage limits\fR
.br
         The following UNIX per-process resource limits are
         supported:
.sp 2
         \fBCORELIMIT\fR
.br
                  The maximum size of a core file.
.sp 2
                  By default, the limit is shown in KB. Use the
                  \fBLSF_UNIT_FOR_LIMITS\fR parameter in the
                  lsf.conf file to specify a larger unit for
                  display (MB, GB, TB, PB, or EB).
.sp 2
         \fBDATALIMIT\fR
.br
                  The maximum size of the data segment of a
                  process, in KB. This limit restricts the amount
                  of memory a process can allocate.
.sp 2
         \fBFILELIMIT\fR
.br
                  The maximum file size a process can create, in
                  KB.
.sp 2
         \fBRUNLIMIT\fR
.br
                  The maximum wall clock time a process can use,
                  in minutes. RUNLIMIT is scaled by the CPU
                  factor of the execution host.
.sp 2
         \fBSTACKLIMIT\fR
.br
                  The maximum size of the stack segment of a
                  process. This limit restricts the amount of
                  memory a process can use for local variables or
                  recursive function calls.
.sp 2
                  By default, the limit is shown in KB. Use the
                  \fBLSF_UNIT_FOR_LIMITS\fR parameter in the
                  lsf.conf file to specify a larger unit for
                  display (MB, GB, TB, PB, or EB).
.sp 2
\fBBIND_JOB\fR
.br
         The processor binding policy for sequential and parallel
         job processes enabled in the application profile.
         Displays one of the following values: \fRNONE\fR,
         \fRBALANCE\fR, \fRPACK\fR, \fRANY\fR, \fRUSER\fR, or
         \fRUSER_CPU_LIST\fR.
.sp 2
         bapp -l app1
.br
         APPLICATION NAME: app1
.br
          -- test processor binding options
.br
         ...
.br
         PARAMETERS:
.br
         BIND_JOB: ANY
.br

.sp 2
         For compatibility with an earlier versions, the bapp -l
         command displays \fRY\fR or \fRN\fR if the
         \fBBIND_JOB\fR parameter is defined with those values in
         the application profile.
.sp 2
\fBCHKPNT_DIR\fR
.br
         The checkpoint directory, if automatic checkpointing is
         enabled for the application profile.
.sp 2
\fBCHKPNT_INITPERIOD\fR
.br
         The initial checkpoint period in minutes. The periodic
         checkpoint does not happen until the initial period
         elapses.
.sp 2
\fBCHKPNT_PERIOD\fR
.br
         The checkpoint period in minutes. The running job is
         checkpointed automatically every checkpoint period.
.sp 2
\fBCHKPNT_METHOD\fR
.br
         The checkpoint method.
.sp 2
\fBMIG\fR
.br
         The migration threshold in minutes. A value of \fR0\fR
         (zero) specifies that a suspended job is to be migrated
         immediately.
.sp 2
         Where a host migration threshold is also specified, and
         is lower than the job value, the host value is used.
.sp 2
\fBPRE_EXEC\fR
.br
         The job-based pre-execution command for the application
         profile. The PRE_EXEC command runs on the execution host
         before the job that is associated with the application
         profile is dispatched to the execution host (or to the
         first host selected for a parallel batch job).
.sp 2
\fBPOST_EXEC\fR
.br
         The job-based post-execution command for the application
         profile. The POST_EXEC command runs on the execution
         host after the job finishes.
.sp 2
\fBHOST_PRE_EXEC\fR
.br
         The host-based pre-execution command for the application
         profile. The HOST_PRE_EXEC command runs on all execution
         hosts before the job that is associated with the
         application profile is dispatched to the execution
         hosts. If a job-based pre-execution PRE_EXEC command was
         defined at the queue-level/application-level/job-level,
         the HOST_PRE_EXEC command runs before the PRE_EXEC
         command of any level. The host-based pre-execution
         command cannot be run on Windows systems.
.sp 2
\fBHOST_POST_EXEC\fR
.br
         The host-based post-execution command for the
         application profile. The HOST_POST_EXEC command runs on
         the execution hosts after the job finishes. If a
         job-based post-execution POST_EXEC command was defined
         at the queue-level/application-level/job-level, the
         HOST_POST_EXEC command runs after the POST_EXEC command
         of any level. The host-based post-execution command
         cannot be run on Windows systems.
.sp 2
\fBLOCAL_MAX_PREEXEC_RETRY_ACTION\fR
.br
         The action to take on a job when the number of times to
         attempt its pre-execution command on the local cluster
         (the value of the \fBLOCAL_MAX_PREEXEC_RETRY\fR
         parameter) is reached.
.sp 2
\fBJOB_INCLUDE_POSTPROC\fR
.br
         If the \fBJOB_INCLUDE_POSTPROC=Y\fR parameter is
         defined, post-execution processing of the job is
         included as part of the job.
.sp 2
\fBJOB_POSTPROC_TIMEOUT \fR
.br
         Timeout in minutes for job post-execution processing. If
         post-execution processing takes longer than the timeout,
         the sbatchd daemon reports that post-execution failed
         (\fRPOST_ERR\fR status). On UNIX, it kills the process
         group of the job\(aqs post-execution processes. On Windows,
         only the parent process of the pre-execution command is
         killed when the timeout expires, the child processes of
         the pre-execution command are not killed.
.sp 2
\fBREQUEUE_EXIT_VALUES\fR
.br
         Jobs that exit with these values are automatically
         requeued.
.sp 2
\fBRES_REQ\fR
.br
         Resource requirements of the application profile. Only
         the hosts that satisfy these resource requirements can
         be used by the application profile.
.sp 2
\fBJOB_STARTER\fR
.br
         An executable file that runs immediately before the
         batch job, taking the batch job file as an input
         argument. All jobs that are submitted to the application
         profile are run through the job starter, which is used
         to create a specific execution environment before LSF
         processes the jobs themselves.
.sp 2
\fBRERUNNABLE\fR
.br
         If the \fRRERUNNABLE\fR field displays \fRyes\fR, jobs
         in the application profile are automatically restarted
         or rerun if the execution host becomes unavailable.
         However, a job in the application profile is not
         restarted if you use bmod to remove the rerunnable
         option from the job.
.sp 2
\fBRESUME_CONTROL\fR
.br
         The configured actions for the resume job control.
.sp 2
         The configured actions are displayed in the format
         [\fIaction_type\fR, \fIcommand\fR] where
         \fIaction_type\fR is \fRRESUME\fR.
.sp 2
\fBSUSPEND_CONTROL\fR
.br
         The configured actions for the suspend job control.
.sp 2
         The configured actions are displayed in the format
         [\fIaction_type\fR, \fIcommand\fR] where
         \fIaction_type\fR is \fRSUSPEND\fR.
.sp 2
\fBTERMINATE_CONTROL\fR
.br
         The configured actions for terminate job control.
.sp 2
         The configured actions are displayed in the format
         [\fIaction_type\fR, \fIcommand\fR] where
         \fIaction_type\fR is \fRTERMINATE\fR.
.sp 2
\fBNO_PREEMPT_INTERVAL\fR
.br
         The configured uninterrupted running time (minutes) that
         must pass before a preemptable job can be preempted.
.sp 2
\fBMAX_TOTAL_TIME_PREEMPT\fR
.br
         The configured maximum total preemption time (minutes)
         after which preemption cannot take place.
.sp 2
\fBNICE\fR
.br
         The relative scheduling priority at which jobs from the
         application run.
.sp 2
\fBCurrent working directory (CWD) information\fR
.br
         \fBJOB_CWD\fR
.br
                  The current working directory for the job in
                  the application profile. The path can be
                  absolute or relative to the submission
                  directory, and includes dynamic patterns.
.sp 2
         \fBJOB_CWD_TTL\fR
.br
                  The time to live for the current working
                  directory for a job. LSF cleans the created CWD
                  after a job finishes based on the TTL value.
.sp 2
\fBJOB_SIZE_LIST\fR
.br
         A list of job sizes (number of tasks) allowed on this
         application, including the default job size that is
         assigned if the job submission does not request a job
         size. Configured in the lsb.applications file.
.sp 2
\fBPEND_TIME_LIMIT\fR
.br
         The pending time limit for a job in the application
         profile. If a job remains pending for longer than this
         specified time limit, IBM Spectrum LSF RTM (LSF RTM)
         triggers the alarm and other actions. Configured in the
         lsb.applications file.
.sp 2
\fBELIGIBLE_PEND_TIME_LIMIT\fR
.br
         The eligible pending time limit for a job in the
         application profile. If a job remains in an eligible
         pending state for longer than this specified time limit,
         IBM Spectrum LSF RTM (LSF RTM) triggers the alarm and
         other actions. Configured in the lsb.applications file.
.sp 2
\fBPRIORITY\fR
.br
         The APS priority factor for the application profile.
         PRIORITY is defined by the \fBPRIORITY\fR parameter in
         the configuration file lsb.applications.
.SH See also

.sp 2
lsb.applications, lsb.queues, bsub, bjobs, badmin, mbatchd