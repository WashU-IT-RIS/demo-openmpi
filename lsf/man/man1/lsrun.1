
.ad l

.TH lsrun 1 "July 2021" "" ""
.ll 72

.ce 1000
\fBlsrun\fR
.ce 0

.sp 2
Runs an interactive task through LSF.
.sp 2

.SH Synopsis

.sp 2
\fBlsrun\fR [\fB-l\fR] [\fB-L\fR] [\fB-P\fR] [\fB-S\fR]
[\fB-v\fR] [\fB-m "\fRhost_name ...\fB"\fR | \fB-m
"\fRcluster_name ...\fB"\fR] [\fB-R "\fRres_req\fB"\fR] command
[argument ...]
.sp 2
\fBlsrun\fR [\fB-h\fR | \fB-V\fR]
.SH Description

.sp 2
With the LSF multicluster capability job forwarding model, the
default is to run the task on a host in the local cluster.
.sp 2
By default, the lsrun command first tries to get resource
requirement information from the remote task list to find an
eligible host. Otherwise, the lsrun command runs the task on a
host that is of the same host type (or architecture) as the
submission host. If several hosts of the same architecture are
available, the host with the lowest CPU and memory load is
selected.
.sp 2
By default, if execution fails and the local host satisfies
resource requirements, LSF runs the task locally.
.sp 2
By default, the lsrun command does not create a pseudo-terminal
when it runs the task.
.sp 2
If the \fBLSF_UGROUP_TRANSFER\fR parameter is enabled in the
lsf.conf file, tasks in the execution side that the lsrun command
runs use the UNIX group information that is set by the user on
the client side.
.SH Options

.sp 2
\fB-l \fR
.br
         If execution on another host fails, runs the task
         locally.
.sp 2
\fB-L\fR
.br
         Forces the lsrun command to go through RES to run a
         task. By default, the lsrun command does not use RES if
         the task is going to run on the current host.
.sp 2
         If RES execution fails and the local host satisfies
         resource requirements, LSF runs the task directly on
         local host.
.sp 2
\fB-P\fR
.br
         Creates a pseudo-terminal when the task is started on
         UNIX hosts. This option is necessary to run programs
         that require a pseudo-terminal (for example, the
         \fRvi\fR editor).
.sp 2
         This option is not supported on Windows.
.sp 2
\fB-S\fR
.br
         Creates a pseudo-terminal with shell mode support when
         the task is started on a UNIX host. Shell mode support
         is required for running interactive shells or
         applications that redefine the CTRL-C and CTRL-Z keys
         (for example, jove).
.sp 2
         This option is not supported on Windows.
.sp 2
\fB-v\fR
.br
         Displays the name of the host that runs the task.
.sp 2
\fB-m "\fIhost_name\fB ..." | -m "\fIcluster_name\fB ..."\fR
.br
         The execution host must be one of the specified hosts.
         If a single host is specified, all resource requirements
         are ignored.
.sp 2
         With the LSF multicluster capability job forwarding
         model, the execution host can be a host in one of the
         specified clusters, if the remote cluster accepts tasks
         from the local cluster. Remote clusters are defined in
         the \fRRemoteClusters\fR section in the lsf.cluster
         file.
.sp 2
\fB-R "\fIres_req\fB" \fR
.br
         Runs the task on a host that meets the specified
         resource requirement. For a complete explanation of
         resource requirement expressions, see Administering IBM
         Spectrum LSF. To find out what resources are configured
         in your system, use the lsinfo and lshosts commands.
.sp 2
         LSF supports ordering of resource requirements on all
         load indices, including external load indices, either
         static or dynamic.
.sp 2
         Exclusive resources need to be explicitly specified
         within the resource requirement string. For example, you
         defined a resource that is called \fRbigmem\fR in
         lsf.shared and defined it as an exclusive resource for
         \fRhostE\fR in lsf.cluster.mycluster. Use the following
         command to submit a task to run on \fRhostE\fR:
.sp 2
         lsrun -R "bigmem" myjob
.sp 2
         Or
.sp 2
         lsrun -R "defined(bigmem)" myjob
.sp 2
         If the -m option is specified with a single host name,
         the -R option is ignored.
.sp 2
\fB-h \fR
.br
         Prints command usage to stderr and exits.
.sp 2
\fB-V \fR
.br
         Prints LSF release version to stderr and exits.
.SH Usage

.sp 2
You can use the lsrun command together with other utility
commands such as lsplace, lsload, and lsloadadj to write load
sharing applications in the form of UNIX shell scripts.
.sp 2
The lsrun command supports interactive job control. Suspending
the lsrun command suspends both the task and the lsrun command.
Continuing the lsrun command also continues the task.
.sp 2
If the \fBLSB_DISABLE_LIMLOCK_EXCL=y\fR parameter is configured
(to enable preemption of exclusive jobs, for example), you can
use the lsrun command to start a task on a host that is running
an exclusive job.
.sp 2
You can simulate the -n option of rsh by redirecting input from
/dev/null. For example,
.sp 2
lsrun cat </dev/null &
.sp 2

.SH Diagnostics

.sp 2
If a problem is detected in LSF, the lsrun command exits with
status -10 and prints an error message to stderr. The task does
not run.
.sp 2
If a system call fails or incorrect arguments are specified, the
exit status is -1 and an error message is printed to stderr.
.sp 2
Otherwise, the exit status is the exit status of the task.
.SH See also

.sp 2
lshosts, lsload, lsplace, ls_rexecv, rsh, lsf.cluster