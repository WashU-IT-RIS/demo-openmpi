
.ad l

.TH lshosts 1 "July 2021" "" ""
.ll 72

.ce 1000
\fBlshosts\fR
.ce 0

.sp 2
Displays hosts and their static resource information.
.sp 2

.SH Synopsis

.sp 2
\fBlshosts\fR [\fB-a\fR] [\fB-cname\fR] [\fB-gpu\fR [\fB-mig\fR]]
[\fB-w\fR | \fB-l\fR | \fB-o
"\fRfield_name[\fB:\fR[\fB-\fR][output_width][\fB:\fRunit]] ...
[\fBdelimiter=\(aq\fRcharacter\fB\(aq\fR]\fB"\fR [\fB-json\fR]] [\fB-R
"\fRres_req\fB"\fR] [\fB-T\fR] [host_name | cluster_name] ...
.sp 2
\fBlshosts\fR \fB -s\fR [resource_name ...] [\fB-a\fR]
[\fB-cname\fR] [\fB-loc\fR]
.sp 2
\fBlshosts\fR [\fB-h\fR | \fB-V\fR]
.SH Description

.sp 2
By default, returns the following information: host name, host
type, host model, CPU factor, number of CPUs, total memory, total
swap space, whether the host is a server host, and static
resources. Exclusive resources are prefixed with an exclamation
mark (\fR!\fR). Displays information about all hosts in the
cluster.
.sp 2
In the IBM Spectrum LSF multicluster capability job forwarding
model, the default behavior is to return the following
information: host name, host type, host model, CPU factor, number
of CPUs, total memory, total swap space, whether the host is a
server host, and static resources. Displays information about all
hosts in the local cluster and for all hosts in equivalent remote
clusters that the local cluster sees.
.sp 2
In the IBM Spectrum LSF multicluster capability resource leasing
model, returns information about hosts in the local cluster.
.sp 2
The -s option displays information about the static resources
(shared or host-based) and their associated hosts.
.SH Options

.sp 2
\fB-a\fR
.br
         Dynamic cluster only. Shows information about all hosts,
         including Dynamic cluster virtual machine hosts
         configured with the jobvm resource. Default output
         includes only standard LSF hosts and Dynamic cluster
         hosts configured with the dchost resource.
.sp 2
\fB-cname\fR
.br
         In LSF Advanced Edition, includes the cluster name for
         execution cluster hosts and host groups in output.
.sp 2
         \fBNote: \fRThis command option is deprecated and might
         be removed in a future version of LSF.
.sp 2
\fB-gpu\fR
.br
         Displays GPU topology information for the cluster.
.sp 2
\fB-json\fR
.br
         Displays the customized output in JSON format.
.sp 2
         When specified, lshosts -o displays the customized
         output in the JSON format.
.sp 2
         This option applies only to output for the lshosts -o
         command for customized output. This option has no effect
         when used with lshosts without the -o option and the
         \fBLSF_LSHOSTS_FORMAT\fR environment variable and
         parameter are not defined.
.sp 2
\fB-l\fR
.br
         Displays host information in a long multi-line format.
         In addition to the default fields, displays additional
         information, including maximum /tmp space, the number of
         local disks, the execution priority for remote jobs,
         load thresholds, and run windows.
.sp 2
\fB-mig\fR
.br
         Displays detailed information on Nvidia Multi-Instance
         GPU (MIG) instances. This option must be specified with
         the -gpu option.
.sp 2
\fB-w \fR
.br
         Displays host information in wide format. Fields are
         displayed without truncation.
.sp 2
\fB-o\fR
.br
         Sets the customized output format.
.sp 2
         *  Specify which lshosts fields (or aliases instead of
            the full field names), in which order, and with what
            width to display.
.sp 2
         *  Specify only the lshosts field name or alias to set
            its output to unlimited width and left justification.
.sp 2
         *  Specify the colon (\fR:\fR) without a width to set
            the output width to the recommended width for that
            field.
.sp 2
         *  Specify the colon (\fR:\fR) with a width to set the
            maximum number of characters to display for the
            field. When its value exceeds this width, lshosts
            truncates the ending characters.
.sp 2
         *  Specify a hyphen (\fR-\fR) to set right justification
            when lshosts displays the output for the specific
            field. If not specified, the default is to set left
            justification when lshosts displays the output for a
            field.
.sp 2
         *  Specify the unit colon (\fR:\fR) with a unit to set
            the unit for the output of the specific field:
.sp 2
            *  Specify \fRS\fR to use a built-in conversion for
               space or capacity, such as memory or disk space.
               Values are automatically scaled for M (MB), G
               (GB), and T (TB), where the default unit is M
               (MB).
.sp 2
               For example, when displaying the \fBmem\fR field
               with a specified width of 3,
.sp 2
               *  For a value of 30, running the lshosts -o
                  "maxmem:3:S" command shows \fR30.0M\fR.
.sp 2
               *  For a value of 4096, running the lshosts -o
                  "maxswp:3:S" command shows \fR4.0G\fR.
.sp 2
               *  For a value of 5000000, running the lshosts -o
                  "maxtmp:3:S" command shows \fR4.8T\fR.
.sp 2
            *  Specify \fRD\fR to use a built-in conversion for
               duration or time, such as memory or disk space.
               Values are automatically scaled for s (seconds), m
               (minutes), h (hours), and d (days), where the
               default unit is s (seconds). The automatically
               scaled value is rounded up after the first decimal
               point.
.sp 2
               For example, when displaying the external
               \fBmytime\fR resource field with a specified width
               of 5,
.sp 2
               *  For a value of 30, running the lshosts -o
                  "mytime:5:D" command shows \fR30.0s\fR.
.sp 2
               *  For a value of 8000, running the lshosts -o
                  "mytime:5:D" command shows \fR2.2h\fR.
.sp 2
               *  For a value of 5000000, running the lshosts -o
                  "mytime:5:D" command shows \fR57.8d\fR.
.sp 2
            *  Specify any other string of 1 - 3 characters and
               the characters are used as is in the field value.
               The first character must be a letter (upper or
               lower case). The second and third characters must
               be an alphanumeric character.
.sp 2
               For example, when displaying the external
               \fRgpu_temp\fR resource with a width of 3, running
               the lshosts -o "gpu_temp:3:C" command for a value
               of 30 shows \fR30C\fR
.sp 2
         *  Use \fRdelimiter=\fR to set the delimiting character
            to display between different headers and fields. This
            delimiter must be a single character. By default, the
            delimiter is a space.
.sp 2
         Output customization applies only to the output for
         certain lshosts options:
.sp 2
         *  \fBLSF_LSHOSTS_FORMAT\fR and lshosts -o both apply to
            output for the lshosts command with no options, and
            for lshosts options with output that filter
            information, including the following options: -a,
            -cname.
.sp 2
         *  \fBLSF_LSHOSTS_FORMAT\fR and lshosts -o do not apply
            to output for other lshosts options that use a
            modified format, including the following options: -l,
            -w.
.sp 2
         The lshosts -o option overrides the
         \fBLSF_LSHOSTS_FORMAT\fR environment variable, which
         overrides the \fBLSF_LSHOSTS_FORMAT\fR setting in
         lsf.conf.
.sp 2
         The following are the field names used to specify the
         lshosts fields to display, recommended width, aliases
         you can use instead of field names, and units of
         measurement for the displayed field:
.sp 2
         \fBTable 1. Output fields for lshosts\fR
.sp 2
+------------------------+------+------------+-----------------+
| Field name             | Widt | Aliases    | Unit            |
|                        | h    |            |                 |
+------------------------+------+------------+-----------------+
| HOST_NAME              | 20   | hname      |                 |
+------------------------+------+------------+-----------------+
| type                   | 10   |            |                 |
+------------------------+------+------------+-----------------+
| model                  | 10   |            |                 |
+------------------------+------+------------+-----------------+
| cpuf                   | 10   |            |                 |
+------------------------+------+------------+-----------------+
| max                    | 10   |            |                 |
+------------------------+------+------------+-----------------+
| ncpus                  | 8    |            |                 |
+------------------------+------+------------+-----------------+
| maxmem                 | 10   |            | LSF_UNIT_FOR_LI |
|                        |      |            | MITS in         |
|                        |      |            | lsf.conf (KB by |
|                        |      |            | default)        |
+------------------------+------+------------+-----------------+
| maxswp                 | 10   |            | LSF_UNIT_FOR_LI |
|                        |      |            | MITS in         |
|                        |      |            | lsf.conf (KB by |
|                        |      |            | default)        |
+------------------------+------+------------+-----------------+
| server                 | 10   |            |                 |
+------------------------+------+------------+-----------------+
| RESOURCES              | 20   | res        |                 |
+------------------------+------+------------+-----------------+
| ndisks                 | 8    |            |                 |
+------------------------+------+------------+-----------------+
| maxtmp                 | 10   |            | LSF_UNIT_FOR_LI |
|                        |      |            | MITS in         |
|                        |      |            | lsf.conf (KB by |
|                        |      |            | default)        |
+------------------------+------+------------+-----------------+
| rexpri                 | 10   |            |                 |
+------------------------+------+------------+-----------------+
| nprocs                 | 8    |            |                 |
+------------------------+------+------------+-----------------+
| ncores                 | 8    |            |                 |
+------------------------+------+------------+-----------------+
| nthreads               | 10   |            |                 |
+------------------------+------+------------+-----------------+
| RUN_WINDOWS            | 20   | runwin     |                 |
+------------------------+------+------------+-----------------+
.sp 2
         Field names and aliases are not case-sensitive. Valid
         values for the output width are any positive integer 1 -
         4096.
.sp 2
         For example,
.sp 2
         \fRlshosts -o "HOST_NAME type: RESOURCES:-
         RUN_WINDOWS:-16 delimiter=\(aq^\(aq"\fR
.sp 2
         This command displays the following fields:
.sp 2
         *  HOST_NAME with unlimited width and left-aligned.
.sp 2
         *  type with a maximum width of 10 characters (which is
            the recommended width) and left-aligned.
.sp 2
         *  RESOURCES with a maximum width of 20 characters
            (which is the recommended width) and right-aligned.
.sp 2
         *  RUN_WINDOWS with a maximum width of 16 characters and
            right-aligned.
.sp 2
         *  The \fR^\fR character is displayed between different
            headers and fields.
.sp 2
\fB-R "\fIres_req\fB" \fR
.br
         Displays only information about the hosts that satisfy
         the resource requirement expression. LSF supports
         ordering of resource requirements on all load indices,
         including external load indices, either static or
         dynamic.
.sp 2
         In the IBM Spectrum LSF multicluster capability,
         displays only information about the hosts in the local
         cluster that satisfy the resource requirement
         expression.
.sp 2
\fB\fIhost_name\fB ... | \fIcluster_name\fB ...\fR
.br
         Displays only information about the specified hosts. Do
         not use quotation marks when you specify multiple hosts.
.sp 2
         For the IBM Spectrum LSF multicluster capability,
         displays information about hosts in the specified
         clusters. The names of the hosts that belong to the
         cluster are displayed instead of the name of the
         cluster. Do not use quotation marks when you specify
         multiple clusters.
.sp 2
\fB-s [\fIresource_name \fB ...] [-loc]\fR
.br
         Displays information about the specified resources. The
         resources must be static resources (shared or
         host-based). If no resource is specified, then displays
         information about all resources. Returns the following
         information: the resource names, the values of the
         resources, and the resource locations.
.sp 2
         If the \fBLOCATION\fR parameter in the
         lsf.cluster.\fIclustername\fR file is set to \fRall\fR
         to indicate that the resource is shared by all hosts in
         the cluster, the \fRLOCATION\fR field in the lshosts -s
         command output also displays \fRALL\fR. To display the
         individual names of all the hosts in the cluster in the
         lshosts -s command output, specify the -loc option
         together with the -s option.
.sp 2
\fB-h \fR
.br
         Prints command usage to stderr and exits.
.sp 2
\fB-T \fR
.br
         Displays host topology information for each host or
         cluster.
.sp 2
\fB-V \fR
.br
         Prints the LSF release version to stderr and exits.
.SH Host-based default output

.sp 2
\fBHOST_NAME\fR
.br
         The name of the host. This display field is truncated.
.sp 2
\fBtype\fR
.br
         The host type. This display field is truncated.
.sp 2
         With the IBM Spectrum LSF multicluster capability, if
         the host type of a host in the remote cluster is not
         defined in the local cluster, the keyword \fRunknown\fR
         is displayed.
.sp 2
\fBmodel\fR
.br
         The host model. This display field is truncated.
.sp 2
         With the IBM Spectrum LSF multicluster capability, if
         the host model of a host in the remote cluster is not
         defined in the local cluster, the keyword \fRunknown\fR
         is displayed.
.sp 2
\fBcpuf\fR
.br
         The relative CPU performance factor. The CPU factor is
         used to scale the CPU load value so that differences in
         CPU speeds are considered. The faster the CPU, the
         larger the CPU factor.
.sp 2
         The default CPU factor of a host with an \fRunknown\fR
         host type is 1.0.
.sp 2
\fBncpus\fR
.br
         The number of processors on this host.
.sp 2
         If the \fBLSF_ENABLE_DUALCORE=Y\fR parameter is
         specified in the lsf.conf file for multi-core CPU hosts,
         displays the number of cores instead of physical CPUs.
.sp 2
         If EGO is enabled in the LSF cluster and the
         \fBEGO_DEFINE_NCPUS\fR parameter is specified in the
         lsf.conf or ego.conf file, the appropriate value for
         \fRncpus\fR is displayed, depending on the value of the
         \fBEGO_DEFINE_NCPUS\fR parameter:
.sp 2
         \fB\fREGO_DEFINE_NCPUS=procs\fB\fR
.br
                  \fRncpus\fR=number of processors.
.sp 2
         \fB\fREGO_DEFINE_NCPUS=cores\fB\fR
.br
                  \fRncpus\fR=\fInumber of processors\fR ×
                  \fInumber of cores per processor\fR.
.sp 2
         \fB\fREGO_DEFINE_NCPUS=threads\fB\fR
.br
                  \fRncpus\fR=\fInumber of processors\fR ×
                  \fInumber of cores per processor\fR × \fInumber
                  of threads per core\fR.
.sp 2
         \fBNote: \fRThe \fREGO_DEFINE_NCPUS=cores\fR parameter
         is the same as setting the \fBLSF_ENABLE_DUALCORE=Y\fR
         parameter.
.sp 2
\fBnprocs \fR
.br
         The number of physical processors per CPU configured on
         a host.
.sp 2
\fBncores \fR
.br
         The number of cores per processor that is configured on
         a host.
.sp 2
\fBnthreads \fR
.br
         The number of threads per core that is configured on a
         host.
.sp 2
\fBmaxmem\fR
.br
         The maximum amount of physical memory available for user
         processes.
.sp 2
         By default, the amount is displayed in KB. The amount
         can appear in MB depending on the actual system memory.
         Use the \fBLSF_UNIT_FOR_LIMITS\fR parameter in the
         lsf.conf file to specify a larger unit for the limit
         (GB, TB, PB, or EB).
.sp 2
\fBmaxswp\fR
.br
         The total available swap space.
.sp 2
         By default, the amount is displayed in KB. The amount
         can appear in MB depending on the actual system swap
         space. Use the \fBLSF_UNIT_FOR_LIMITS\fR parameter in
         the lsf.conf file to specify a larger unit for the limit
         (GB, TB, PB, or EB).
.sp 2
         For the Solaris operating system, the swap space is
         virtual, a layer between anonymous memory pages and the
         physical storage (or disk-backed swap space). Virtual
         swap space on Solaris systems is equal to the sum of all
         its physical (disk-backed) swap space plus a portion of
         the currently available physical memory, which might be
         a dynamic value.
.sp 2
\fBserver\fR
.br
         Indicates whether the host is a server or client host.
         \fRYes\fR is displayed for LSF servers. \fRNo\fR is
         displayed for LSF clients. \fRDyn\fR is displayed for
         dynamic hosts.
.sp 2
\fBRESOURCES\fR
.br
         The Boolean resources that are defined for this host,
         denoted by resource names, and the values of external
         numeric and string static resources. External static
         resources are configured in the lsf.cluster and
         lsf.shared files.
.SH Host-based -l option output

.sp 2
\fBndisks\fR
.br
         The number of local disk drives directly attached to the
         host.
.sp 2
\fBmaxtmp\fR
.br
         The maximum \fR/tmp\fR space in MB configured on a host.
.sp 2
\fBrexpri\fR
.br
         UNIX only. The execution priority of remote jobs that
         are run by the RES. rexpri is a number between -20 and
         20, with -20 representing the highest priority and 20
         the lowest. The default rexpri is 0, which corresponds
         to the default scheduling priority of 0 on BSD-based
         UNIX systems and 20 on System V-based systems.
.sp 2
\fBnprocs\fR
.br
         The number of physical processors per CPU configured on
         a host.
.sp 2
\fBncores\fR
.br
         The number of cores per processor that is configured on
         a host.
.sp 2
\fBnthreads\fR
.br
         The number of threads per core that is configured on a
         host.
.sp 2
\fBRUN_WINDOWS\fR
.br
         The time windows during which LIM considers the host as
         available to run remote jobs. These run windows have the
         same function for LSF hosts as dispatch windows have for
         LSF hosts.
.sp 2
\fBLOAD_THRESHOLDS\fR
.br
         The thresholds for scheduling interactive jobs. If a
         load index exceeds the load threshold (or falls below
         the load threshold, for decreasing load indices), the
         host status is changed to \fRbusy\fR. If the threshold
         is displayed as a dash \fR-\fR, the value of that load
         index does not affect the host status.
.sp 2
\fBHARDWARE TOPOLOGY\fR
.br
         NUMA and socket information for the host.
.sp 2
\fBAVAILABLE CPU FREQUENCY\fR
.br
         Shows the available CPU frequencies for the host. Used
         for energy aware scheduling.
.sp 2
\fBCURRENT CPU FREQUENCY (GHz)\fR
.br
         Shows the current CPU frequencies that are selected for
         the host and the number of CPUs on the host. Used for
         energy aware scheduling.
.SH Resource-based output -s option

.sp 2
Displays the static resources (shared or host-based). Each line
gives the value and the associated hosts for the static resource.
Static shared resources are configured in the lsf.shared and
lsf.cluster files.
.sp 2
The following fields are displayed:
.sp 2
\fBRESOURCE \fR
.br
         The name of the resource.
.sp 2
\fBVALUE \fR
.br
         The value of the static resource.
.sp 2
\fBLOCATION \fR
.br
         The hosts that are associated with the static resource.
.SH Topology-based output -T option

.sp 2
Displays host topology information for each host or cluster.
Topology is displayed by processor unit level: NUMA node, if
present, socket, core, and thread. A socket is a collection of
cores with a direct pipe to memory. Each socket contains 1 or
more cores. The topology display does not necessarily refer to a
physical socket, but rather to the memory architecture of the
machine. A core is a single entity capable of performing
computations. On hosts with hyperthreading enabled, a core can
contain one or more threads.
.sp 2
The following fields are displayed:
.sp 2
\fBHost[\fImemory\fB] \fIhost_name\fB\fR
.br
         Maximum memory available on the host followed by the
         host name. If memory availability cannot be determined,
         a dash (\fR-\fR) is displayed for the host.
.sp 2
         For hosts that do not support affinity scheduling, a
         dash (\fR-\fR) is displayed for host memory and no host
         topology is displayed.
.sp 2
\fBNUMA[\fInuma_node\fB: \fImax_mem\fB]\fR
.br
         Maximum NUMA node memory. It is possible for requested
         memory for the NUMA node to be greater than the maximum
         available memory displayed.
.sp 2
         If no NUMA nodes are present, then the NUMA layer in the
         output is not shown. Other relevant items such as host,
         socket, core, and thread are still shown.
.sp 2
         If the host is not available, only the host name is
         displayed. A dash (\fR-\fR) is shown where available
         host memory would normally be displayed.
.sp 2
         The lshosts -T output differs from the bhosts -aff
         output:
.sp 2
         *  Socket and core IDs are not displayed for each NUMA
            node.
.sp 2
         *  The requested memory of a NUMA node is not displayed
.sp 2
         *  lshosts -T displays all enabled CPUs on a host, not
            just the CPUs defined in the CPU list in lsb.hosts
.sp 2
In the following example, full topology (NUMA, socket, and core)
information is shown for \fRhostA\fR. Hosts \fRhostB\fR and
\fRhostC\fR are either not NUMA hosts or they are not available:
.sp 2
lshosts -T
.br
Host[15.7G] hostA
.br
    NUMA[0: 15.7G]
.br
        Socket
.br
            core(0)
.br
        Socket
.br
            core(1)
.br
        Socket
.br
            core(2)
.br
        Socket
.br
            core(3)
.br
        Socket
.br
            core(4)
.br
        Socket
.br
            core(5)
.br
        Socket
.br
            core(6)
.br
        Socket
.br
            core(7)
.br

.br
Host[-] hostB
.br

.br
Host[-] hostC
.sp 2
When LSF cannot detect processor unit topology, the lshosts -T
command displays processor units to the closest level.
.sp 2
lshosts -T
.br
     Host[1009M] hostA 
.br
            Socket (0 1)
.br

.sp 2
\fRhostA\fR has two processor units: 0 and 1. LSF cannot detect
core information, so the processor unit is attached to the socket
level.
.sp 2
Hardware topology information is not shown for client hosts and
hosts in a mixed cluster or IBM Spectrum LSF multicluster
capability environment that is running a version of LSF that is
earlier than Version 9.1.
.SH Output: GPU-based -gpu option

.sp 2
The -gpu option displays information of the GPUs on the host.
.sp 2
The following fields are displayed:
.sp 2
\fBHOST_NAME\fR
.br
         The host name.
.sp 2
\fBgpu_id\fR
.br
         The GPU IDs on the host. Each GPU is shown as a separate
         line.
.sp 2
\fBgpu_model\fR
.br
         The full model name, which consists of the GPU brand
         name and the model type.
.sp 2
\fBgpu_driver\fR
.br
         The full version of the GPU driver.
.sp 2
\fBgpu_factor\fR
.br
         The GPU run time weighting factor.
.sp 2
\fBnuma_id\fR
.br
         The NUMA node ID.
.sp 2
\fBvendor\fR
.br
         The GPU vendor type (that is, the GPU brand name).
.sp 2
\fBmig\fR
.br
         Flag to indicate whether the GPU supports Nvidia
         Multi-Instance GPU (MIG) functions.
.sp 2
If the -mig option is specified with the -gpu option, shows the
following detailed MIG instances information:
.sp 2
\fBdevid\fR
.br
         The MIG device (instance) ID.
.sp 2
\fBgid\fR
.br
         The GPU instance ID.
.sp 2
\fBcid\fR
.br
         The compute instance ID.
.sp 2
\fBinst_name\fR
.br
         The MIG instance name.
.SH Files

.sp 2
Reads lsf.cluster.\fIcluster_name\fR.
.SH See also

.sp 2
ls_info, ls_policy, ls_gethostinfo, lsf.shared