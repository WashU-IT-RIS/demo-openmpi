
.ad l

.TH bhosts 1 "July 2021" "" ""
.ll 72

.ce 1000
\fBbhosts\fR
.ce 0

.sp 2
Displays hosts and their static and dynamic resources
.sp 2

.SH Synopsis

.sp 2
\fBbhosts\fR [\fB-w\fR | \fB-l\fR | \fB-e\fR | \fB-o
"\fRfield_name[\fB:\fR[\fB-\fR][output_width]] ...
[\fBdelimiter=\(aq\fRcharacter\fB\(aq\fR]\fB"\fR [\fB-json\fR]]
[\fB-a\fR] [\fB-attr\fR] [\fB-alloc\fR] [\fB-cname\fR] [\fB-x\fR]
[\fB-X\fR] [\fB-R "\fRres_req\fB"\fR] [host_name ... | host_group
 ... | compute_unit ...]
.sp 2
\fBbhosts\fR [\fB-w\fR | \fB-e\fR | \fB-o
"\fRfield_name[\fB:\fR[\fB-\fR][output_width]] ...
[\fBdelimiter=\(aq\fRcharacter\fB\(aq\fR]\fB"\fR [\fB-json\fR]]
[\fB-a\fR] [\fB-attr\fR] [\fB-alloc\fR] [\fB-cname\fR]
[\fB-noheader\fR] [\fB-x\fR] [\fB-X\fR] [\fB-R
"\fRres_req\fB"\fR][host_name ... | host_group ... | compute_unit
 ...]
.sp 2
\fBbhosts\fR \fB-s\fR [resource_name ...] [\fB-a\fR]
[\fB-attr\fR] [\fB-cname\fR][\fB-e\fR] [\fB-loc\fR]
[\fB-noheader\fR]
.sp 2
\fBbhosts\fR [\fB-aff\fR] [\fB-attr\fR] [\fB-l\fR] [host_name ...
| host_group ... | compute_unit ...] | [cluster_name]
.sp 2
\fBbhosts\fR [\fB-w\fR | \fB-l\fR | \fB-e\fR | \fB-o
"\fRfield_name[\fB:\fR[\fB-\fR][output_width]] ...
[\fBdelimiter=\(aq\fRcharacter\fB\(aq\fR]\fB"\fR ] [\fB-a\fR]
[\fB-alloc\fR] [\fB-cname\fR] [\fB-gpu\fR] [\fB-x\fR] [\fB-X\fR]
[\fB-R "\fRres_req\fB"\fR] [\fB-rc\fR] [host_name ... |
cluster_name]
.sp 2
\fBbhosts\fR [\fB-w\fR ] [\fB-rconly\fR]
.sp 2
\fBbhosts\fR [\fB-h\fR | \fB-V\fR]
.SH Description

.sp 2
By default, returns the following information about all hosts:
Host name, host status, job state statistics, and job slot
limits.
.sp 2
The bhosts command displays output for condensed host groups and
compute units. These host groups and compute units are defined by
\fRCONDENSE\fR in the \fRHostGroup\fR and \fRComputeUnit\fR
sections of the lsb.hosts file. Condensed host groups and compute
units are displayed as a single entry with the name as defined by
\fRGROUP_NAME\fR or \fRNAME\fR in the lsb.hosts file.
.sp 2
When EGO adds more resources to a running resizable job, the
bhosts command displays the added resources. When EGO removes
resources from a running resizable job, the bhosts command
displays the updated resources.
.sp 2
The -l and -X options display uncondensed output.
.sp 2
The -s option displays information about the numeric shared
resources and their associated hosts.
.sp 2
With LSF multicluster capability, displays the information about
hosts available to the local cluster. Use the -e option to see
information about exported hosts.
.SH Options

.sp 2
\fB-a\fR
.br
         Shows information about all hosts, including hosts
         relinquished to a resource provider (such as EGO or
         OpenStack) through LSF resource connector. Default
         output includes only standard LSF hosts.
.sp 2
\fB-aff\fR
.br
         Displays host topology information for CPU and memory
         affinity scheduling.
.sp 2
\fB-alloc\fR
.br
         Shows counters for slots in \fRRUN\fR, \fRSSUSP\fR,
         \fRUSUSP\fR, and \fRRSV\fR. The slot allocation is
         different depending on whether the job is an exclusive
         job or not.
.sp 2
\fB-attr\fR
.br
         Displays information on attributes that are attached to
         the host. These attributes were created with the battr
         create command, or automatically created according to
         attribute requests.
.sp 2
\fB-cname\fR
.br
         In LSF Advanced Edition, includes the cluster name for
         execution cluster hosts in output. The output that is
         displayed is sorted by cluster and then by host name.
.sp 2
         \fBNote: \fRThis command option is deprecated and might
         be removed in a future version of LSF.
.sp 2
\fB-e\fR
.br
         LSF multicluster capability only. Displays information
         about resources that were exported to another cluster.
.sp 2
\fB-gpu [-l]\fR
.br
         Displays GPU information on the host.
.sp 2
         The -l option shows more detailed information about the
         GPUs.
.sp 2
\fB-json\fR
.br
         Displays the customized output in JSON format.
.sp 2
         When specified, bhosts -o displays the customized output
         in the JSON format.
.sp 2
         This option applies only to output for the bhosts -o
         command for customized output. This option has no effect
         when used with bhosts without the -o option and the
         \fBLSB_BHOSTS_FORMAT\fR environment variable and
         parameter are not defined.
.sp 2
\fB-l\fR
.br
         Displays host information in a long multi-line format.
         In adslotsdition to the default fields, displays
         information about the CPU factor, the current load, and
         the load thresholds. Also displays the value of \fR\fR
         for each host. The \fRslots\fR value is the greatest
         number of unused slots on a host.
.sp 2
         The bhosts -l option also displays information about the
         dispatch windows.
.sp 2
         When PowerPolicy is enabled in the lsb.threshold file,
         the bhosts -l command also displays host power states.
         Final power states are \fRon\fR or \fRsuspend\fR.
         Intermediate power states are \fRrestarting\fR,
         \fRresuming\fR, and \fRsuspending\fR. The final power
         state under administrator control is \fRclosed_Power\fR.
         The final power state under policy control is
         \fRok_Power\fR. If the host status becomes unknown
         (power operation due to failure), the power state is
         shown as a dash (\fR-\fR).
.sp 2
         If you specified an administrator comment with the -C
         option of the host control commands (badmin hclose -C or
         badmin hopen -C), the -l option displays the comment
         text. If there are any lock IDs that are attached to a
         closed host, these lock IDs are displayed with any
         attached comments in a tabular format.
.sp 2
         If enhanced energy accounting using Elasticsearch has
         been enabled (with \fBLSF_ENABLE_BEAT_SERVICE\fR in
         lsf.conf), output will show the \fBCurrent Power\fR
         usage in watts, and total \fBEnergy Consumed\fR in Joule
         and kWh.
.sp 2
         If attributes are attached to the host, the -l option
         shows detailed information on these attributes.
.sp 2
\fB-noheader\fR
.br
         Removes the column headings from the output.
.sp 2
         When specified, bhosts displays the values of the fields
         without displaying the names of the fields. This option
         is useful for script parsing, when column headings are
         not necessary.
.sp 2
         This option applies to output for the bhosts command
         with no options, and to output for all bhosts options
         with output that uses column headings, including the
         following options: -a, -alloc, -cname, -e, -o, -R, -s,
         -w, -x, -X.
.sp 2
         This option does not apply to output for bhosts options
         that do not use column headings, including the following
         options: -aff, -json, -l.
.sp 2
\fB-o\fR
.br
         Sets the customized output format.
.sp 2
         *  Specify which bhosts fields (or aliases instead of
            the full field names), in which order, and with what
            width to display.
.sp 2
         *  Specify only the bhosts field name or alias to set
            its output to unlimited width and left justification.
.sp 2
         *  Specify the colon (\fR:\fR) without a width to set
            the output width to the recommended width for that
            field.
.sp 2
         *  Specify the colon (\fR:\fR) with a width to set the
            maximum number of characters to display for the
            field. When its value exceeds this width, bhosts
            truncates the ending characters.
.sp 2
         *  Specify a hyphen (\fR-\fR) to set right justification
            when bhosts displays the output for the specific
            field. If not specified, the default is to set left
            justification when bhosts displays the output for a
            field.
.sp 2
         *  Use \fRdelimiter=\fR to set the delimiting character
            to display between different headers and fields. This
            delimiter must be a single character. By default, the
            delimiter is a space.
.sp 2
         Output customization applies only to the output for
         certain bhosts options:
.sp 2
         *  \fBLSB_BHOSTS_FORMAT\fR and bhosts -o both apply to
            output for the bhosts command with no options, and
            for bhosts options with output that filter
            information, including the following options: -a,
            -alloc, -cname, -R, -x, -X.
.sp 2
         *  \fBLSB_BHOSTS_FORMAT\fR and bhosts -o do not apply to
            output for bhosts options that use a modified format,
            including the following options: -aff, -e, -l, -s,
            -w.
.sp 2
         The bhosts -o option overrides the
         \fBLSB_BHOSTS_FORMAT\fR environment variable, which
         overrides the \fBLSB_BHOSTS_FORMAT\fR setting in
         lsf.conf.
.sp 2
         The following are the field names used to specify the
         bhosts fields to display, recommended width, aliases you
         can use instead of field names, and units of measurement
         for the displayed field:
.sp 2
         \fBTable 1. Output fields for bhosts\fR
.sp 2
+------------------------+------+------------+-----------------+
| Field name             | Widt | Aliases    | Unit            |
|                        | h    |            |                 |
+------------------------+------+------------+-----------------+
| host_name              | 20   | hname      |                 |
+------------------------+------+------------+-----------------+
| status                 | 15   | stat       |                 |
+------------------------+------+------------+-----------------+
| cpuf                   | 10   |            |                 |
+------------------------+------+------------+-----------------+
| jl_u                   | 8    | jlu        |                 |
+------------------------+------+------------+-----------------+
| max                    | 8    |            |                 |
+------------------------+------+------------+-----------------+
| njobs                  | 8    |            |                 |
+------------------------+------+------------+-----------------+
| run                    | 8    |            |                 |
+------------------------+------+------------+-----------------+
| ssusp                  | 8    |            |                 |
+------------------------+------+------------+-----------------+
| ususp                  | 8    |            |                 |
+------------------------+------+------------+-----------------+
| rsv                    | 8    |            |                 |
+------------------------+------+------------+-----------------+
| dispatch_window        | 50   | dispwin    |                 |
+------------------------+------+------------+-----------------+
| ngpus                  | 8    | ng         |                 |
+------------------------+------+------------+-----------------+
| ngpus_alloc            | 8    | ngu        |                 |
+------------------------+------+------------+-----------------+
| ngpus_excl_alloc       | 8    | ngx        |                 |
+------------------------+------+------------+-----------------+
| ngpus_shared_alloc     | 8    | ngs        |                 |
+------------------------+------+------------+-----------------+
| ngpus_shared_jexcl_all | 8    | ngsjx      |                 |
| oc                     |      |            |                 |
+------------------------+------+------------+-----------------+
| ngpus_excl_avail       | 8    | ngfx       |                 |
+------------------------+------+------------+-----------------+
| ngpus_shared_avail     | 8    | ngfs       |                 |
+------------------------+------+------------+-----------------+
| attribute              | 50   | attr       |                 |
+------------------------+------+------------+-----------------+
| mig_alloc              | 5    |            |                 |
+------------------------+------+------------+-----------------+
| comments               | 128  |            |                 |
| Note: If combined with |      |            |                 |
| the bhosts -json       |      |            |                 |
| option, this field     |      |            |                 |
| displays full details  |      |            |                 |
| of host closure events |      |            |                 |
| such as event time,    |      |            |                 |
| administrator ID, lock |      |            |                 |
| ID, and comments, as   |      |            |                 |
| shown in the bhosts -l |      |            |                 |
| option.                |      |            |                 |
+------------------------+------+------------+-----------------+
.sp 2
         Field names and aliases are not case-sensitive. Valid
         values for the output width are any positive integer 1 -
         4096.
.sp 2
         For example,
.sp 2
         \fRbhosts -o "host_name cpuf: jl_u:- max:-6
         delimiter=\(aq^\(aq"\fR
.sp 2
         This command displays the following fields:
.sp 2
         *  HOST_NAME with unlimited width and left justified.
.sp 2
         *  CPUF with a maximum width of ten characters (which is
            the recommended width) and left justified.
.sp 2
         *  JL_U with a maximum width of eight characters (which
            is the recommended width) and right justified.
.sp 2
         *  MAX with a maximum width of six characters and right
            justified.
.sp 2
         *  The \fR^\fR character is displayed between different
            headers and fields.
.sp 2
\fB-w\fR
.br
         Displays host information in wide format. Fields are
         displayed without truncation.
.sp 2
         For condensed host groups and compute units, the -w
         option displays the overall status and the number of
         hosts with the \fRok\fR, \fRunavail\fR, \fRunreach\fR,
         and \fRbusy\fR status in the following format:
.sp 2
         \fR\fIhost_group_status\fR
         \fInum_ok\fR/\fInum_unavail\fR/\fInum_unreach\fR/\fInum_busy\fR\fR
.sp 2
         Where
.sp 2
         *  \fIhost_group_status\fR is the overall status of the
            host group or compute unit. If a single host in the
            group or unit is \fRok\fR, the overall status is also
            \fRok\fR.
.sp 2
         *  \fInum_ok\fR, \fInum_unavail\fR, \fInum_unreach\fR,
            and \fInum_busy\fR are the number of hosts that are
            \fRok\fR, \fRunavail\fR, \fRunreach\fR, and
            \fRbusy\fR.
.sp 2
         For example, if five hosts are \fRok\fR, two
         \fRunavail\fR, one \fRunreach\fR, and three \fRbusy\fR
         in a condensed host group \fRhg1\fR, the following
         status is displayed:
.sp 2
         hg1 ok 5/2/1/3
.br

.sp 2
         If any hosts in the host group or compute unit are
         closed, the status for the host group is displayed as
         \fRclosed\fR, with no status for the other states:
.sp 2
         hg1 closed
.br

.sp 2
         The status of LSF resource connector hosts that are
         closed because of a resource provider reclaim request is
         \fRclosed_RC\fR.
.sp 2
\fB-rc [-l]\fR
.br
         Displays the current status of hosts requested from and
         provisioned by LSF resource connector, as well as a
         brief history of each provisioned host.
.sp 2
         \fBNote: \fRRequires LSF Fix Pack 4.
.sp 2
         The -rc and -rconly options make use of the third-party
         mosquitto message queue application. LSF resource
         connector publishes additional provider host information
         that is displayed by these bhosts options. The mosquitto
         binary file is included as part of the LSF distribution.
.sp 2
         To use the -rc option, LSF resource connector must be
         enabled with the \fBLSB_RC_EXTERNAL_HOST_FLAG\fR
         parameter in the lsf.conf file.
.sp 2
         If you use the MQTT message broker that is distributed
         withLSF, you must configure the
         \fBLSF_MQ_BROKER_HOSTS\fR and \fBMQTT_BROKER_HOST\fR
         parameters in the lsf.conf file. The
         \fBLSF_MQ_BROKER_HOSTS\fR and \fBMQTT_BROKER_HOST\fR
         parameters must specify the same host name. The
         \fBLSF_MQ_BROKER_HOSTS\fR parameter enables LIM to start
         the mosquitto daemon.
.sp 2
         If you use an existing MQTT message broker, you must
         configure the \fBMQTT_BROKER_HOST\fR parameter. You can
         optionally specify an MQTT broker port with the
         \fBMQTT_BROKER_PORT\fR parameter.
.sp 2
         Use the ps command to check that the MQTT message broker
         daemon (mosquitto) is installed and running: \fRps -ef |
         grep mosquitto\fR.
.sp 2
         Configure the \fBEBROKERD_HOST_CLEAN_DELAY\fR to specify
         a delay, in minutes, after which the ebrokerd daemon
         removes information about relinquished or reclaimed
         hosts. This parameter allows the bhosts -rc and bhosts
         -rconly commands to get LSF resource connector provider
         host information for some time after they are
         deprovisioned.
.sp 2
         The following additional columns are shown in the host
         list:
.sp 2
         \fB\fRRC_STATUS\fB\fR
.br
                  LSF resource connector status.
.sp 2
                  \fB\fRPreprovision_Started\fB\fR
.br
                           Resource connector started the
                           preprovisioning script for the new
                           host.
.sp 2
                  \fB\fRPreprovision_Failed\fB\fR
.br
                           The preprovisioning script returned an
                           error.
.sp 2
                  \fB\fRAllocated\fB\fR
.br
                           The host is ready to join the LSF
                           cluster.
.sp 2
                  \fB\fRReclaim_Received\fB\fR
.br
                           A host reclaim request was received
                           from the provider (for example, for an
                           AWS spot instance).
.sp 2
                  \fB\fRRelinquishReq_Sent\fB\fR
.br
                           LSF started to relinquish the host.
.sp 2
                  \fB\fRRelinquished\fB\fR
.br
                           LSF finished relinquishing the host.
.sp 2
                  \fB\fRDeallocated_Sent\fB\fR
.br
                           LSF sent a return request to the
                           provider.
.sp 2
                  \fB\fRPostprovision_Started\fB\fR
.br
                           LSF started the postprovisioning
                           script after the host was returned.
.sp 2
                  \fB\fRDone\fB\fR
.br
                           The host life cyle is complete.
.sp 2
         \fB\fRPROV_STATUS\fB\fR
.br
                  Provider status. This status depends the
                  provider. For example, AWS has pending,
                  running, shutting down, terminated, and others.
                  Check documentation for the provider to
                  understand the status that is displayed.
.sp 2
         \fB\fRUPDATED_AT\fB\fR
.br
                  Time stamp of the latest status change.
.sp 2
         For hosts provisioned by resource connector, these
         columns show appropriate status values and a time stamp.
         A dash (\fR-\fR) is displayed in these columns for other
         hosts in the cluster.
.sp 2
         For example,
.sp 2
         bhosts -rc
.br
         HOST_NAME          STATUS       JL/U    MAX  NJOBS    RUN  SSUSP  USUSP    RSV  RC_STATUS      PROV_STATUS    UPDATED_AT
.br
         ec2-35-160-173-192 ok              -      1      0      0      0      0      0  Allocated      running        2017-04-07T12:28:46CDT
.br
         lsf1.aws.          closed          -      1      0      0      0      0      0          -           -              -
.br
         
.br

.sp 2
         The -l option shows more detailed information about
         provisioned hosts:
.sp 2
         bhosts -rc -l
.br
         HOST  ec2-35-160-173-192.us-west-2.compute.amazonaws.com
.br
         STATUS           CPUF  JL/U    MAX  NJOBS    RUN  SSUSP  USUSP    RSV RC_STATUS      PROV_STATUS    UPDATED_AT             DISPATCH_WINDOW
.br
         ok              60.00     -      1      0      0      0      0      0 Allocated      running        2017-04-07T12:28:46CDT -
.br
         
.br
          CURRENT LOAD USED FOR SCHEDULING:
.br
                         r15s   r1m  r15m    ut    pg    io   ls    it   tmp   swp   mem  slots
.br
          Total           1.0   0.0   0.0    1%   0.0    33    0     3 5504M    0M  385M      1
.br
          Reserved        0.0   0.0   0.0    0%   0.0     0    0     0    0M    0M    0M      -
.br

.sp 2
\fB-rconly\fR
.br
         Shows the status of all hosts provisioned by LSF
         resource connector, no matter if they have joined the
         cluster or not.
.sp 2
         \fBNote: \fRRequires LSF Fix Pack 4.
.sp 2
         To use the -rconly option, LSF resource connector must
         be enabled with the \fBLSB_RC_EXTERNAL_HOST_FLAG\fR
         parameter in the lsf.conf file. If you use the MQTT
         message broker that is distributed withLSF, you must
         configure the \fBLSF_MQ_BROKER_HOSTS\fR and
         \fBMQTT_BROKER_HOST\fR parameters in the lsf.conf file.
         The \fBLSF_MQ_BROKER_HOSTS\fR and \fBMQTT_BROKER_HOST\fR
         parameters must specify the same host name. The
         \fBLSF_MQ_BROKER_HOSTS\fR parameter enables LIM to start
         the mosquitto daemon.
.sp 2
         If you use an existing MQTT message broker, you must
         configure the \fBMQTT_BROKER_HOST\fR parameter. You can
         optionally specify an MQTT broker port with the
         \fBMQTT_BROKER_PORT\fR parameter.
.sp 2
         Use the ps command to check that the MQTT message broker
         daemon (mosquitto) is installed and running: \fRps -ef |
         grep mosquitto\fR.
.sp 2
\fB-x\fR
.br
         Display hosts whose job exit rate is high and exceeds
         the threshold that is configured by the \fBEXIT_RATE\fR
         parameter in the lsb.hosts file for longer than the
         value specified by the \fBJOB_EXIT_RATE_DURATION\fR
         parameter that is configured in the lsb.params file. By
         default, these hosts are closed the next time LSF checks
         host exceptions and runs eadmin.
.sp 2
         Use with the -l option to show detailed information
         about host exceptions.
.sp 2
         If no hosts exceed the job exit rate, the bhosts -x
         command has the following output:
.sp 2
         There is no exceptional host found
.br

.sp 2
\fB-X\fR
.br
         Displays uncondensed output for host groups and compute
         units.
.sp 2
\fB-R "\fIres_req\fB"\fR
.br
         Displays only information about hosts that satisfy the
         resource requirement expression.
.sp 2
         \fBNote: \fRDo not specify resource requirements by
         using the \fRrusage\fR keyword to select hosts because
         the criteria are ignored by LSF.
.sp 2
         LSF supports ordering of resource requirements on all
         load indices, including external load indices, either
         static or dynamic.
.sp 2
\fB-s [\fIresource_name\fB ...] [-loc]\fR
.br
         Specify shared numeric resources only. Displays
         information about the specified resources. Returns the
         following information: the resource names, the total and
         reserved amounts, and the resource locations.
.sp 2
         The bhosts -s option shows only consumable resources.
         This option does not display information about GPU
         resources (that is, this option does not display
         \fRgpu_\fI<num>\fRn\fR resources). Use the -gpu option
         to view GPU information on the host.
.sp 2
         From \fRclusterA\fR:
.sp 2
         bhosts -s 
.br
         RESOURCE                 TOTAL       RESERVED       LOCATION
.br
         hspice                   36.0        0.0            host1
.br

.sp 2
         From \fRclusterB\fR in \fRsiteB\fR:
.sp 2
         bhosts -s 
.br
         RESOURCE                 TOTAL       RESERVED       LOCATION
.br
         hspice                   76.0        0.0            host2
.br

.sp 2
         If the \fBLOCATION\fR parameter in the
         lsf.cluster.\fIclustername\fR file is set to \fRall\fR
         to indicate that the resource is shared by all hosts in
         the cluster, the \fRLOCATION\fR field in the bhosts -s
         command output also displays \fRALL\fR. To display the
         individual names of all the hosts in the cluster in the
         bhosts -s command output, specify the -loc option
         together with the -s option.
.sp 2
         When LSF License Scheduler is configured to work with
         LSF Advanced Edition submission and execution clusters,
         LSF Advanced Edition considers LSF License Scheduler
         cluster mode and project mode features to be shared
         features. When you run the bhosts -s command from a host
         in the submission cluster, it shows no \fRTOTAL\fR and
         \fRRESERVED\fR tokens available for the local hosts in
         the submission cluster, but shows the number of
         available tokens for \fRTOTAL\fR and the number of used
         tokens for \fRRESERVED\fR in the execution clusters.
.sp 2
\fB\fIhost_name\fB ... | \fIhost_group\fB ... | \fIcompute
unit\fB ...\fR
.br
         Displays only information about the specified hosts. Do
         not use quotation marks to specify multiple hosts.
.sp 2
         For host groups and compute units, the names of the
         member hosts are displayed instead of the name of the
         host group or compute unit. Do not use quotation marks
         to specify multiple host groups or compute units.
.sp 2
\fB\fIcluster_name\fB\fR
.br
         LSF multicluster capability only. Displays information
         about hosts in the specified cluster.
.sp 2
\fB-h \fR
.br
         Prints command usage to stderr and exits.
.sp 2
\fB-V\fR
.br
         Prints LSF release version to stderr and exits.
.SH Output: Host-based default

.sp 2
Displays the following fields:
.sp 2
\fBHOST_NAME\fR
.br
         The name of the host. If a host has running batch jobs,
         but the host is removed from the configuration, the host
         name is displayed as \fRlost_and_found\fR.
.sp 2
         For condensed host groups, the \fRHOST_NAME\fR value is
         the name of host group.
.sp 2
\fBSTATUS\fR
.br
         With LSF multicluster capability, not shown for fully
         exported hosts.
.sp 2
         The status of the host and the sbatchd daemon. Batch
         jobs can be dispatched only to hosts with an \fRok\fR
         status. Host status has the following values:
.sp 2
         \fBok\fR
.br
                  The host is available to accept batch jobs.
.sp 2
                  For condensed host groups, if a single host in
                  the host group is \fRok\fR, the overall status
                  is also shown as \fRok\fR.
.sp 2
                  If any host in the host group or compute unit
                  is not \fRok\fR, bhosts displays the first host
                  status that it encounters as the overall status
                  for the condensed host group. Use the bhosts -X
                  command to see the status of individual hosts
                  in the host group or compute unit.
.sp 2
         \fBunavail \fR
.br
                  The host is down, or LIM and the sbatchd daemon
                  on the host are unreachable.
.sp 2
         \fBunreach \fR
.br
                  LIM on the host is running but the sbatchd
                  daemon is unreachable.
.sp 2
         \fBclosed \fR
.br
                  The host is not allowed to accept any remote
                  batch jobs. The host can be closed for several
                  reasons.
.sp 2
         \fBclosed_Cu_excl\fR
.br
                  This host is a member of a compute unit that is
                  running an exclusive compute unit job.
.sp 2
\fBJL/U\fR
.br
         With LSF multicluster capability, not shown for fully
         exported hosts.
.sp 2
         The maximum number of job slots that the host can
         process on a per user basis. A dash (\fR-\fR) indicates
         no limit.
.sp 2
         For condensed host groups or compute units, the
         \fRJL/U\fR value is the total number of job slots that
         all hosts in the group or unit can process on a per user
         basis.
.sp 2
         The host does not allocate more than \fRJL/U\fR job
         slots for one user at the same time. These job slots are
         used by running jobs, as well as by suspended or pending
         jobs with reserved slots.
.sp 2
         For preemptive scheduling, the accounting is different.
         These job slots are used by running jobs and by pending
         jobs with reserved slots.
.sp 2
\fBMAX\fR
.br
         The maximum number of job slots available. A dash
         (\fR-\fR) indicates no limit.
.sp 2
         For condensed host groups and compute units, the
         \fRMAX\fR value is the total maximum number of job slots
         available in all hosts in the host group or compute
         unit.
.sp 2
         These job slots are used by running jobs, as well as by
         suspended or pending jobs with reserved slots.
.sp 2
         If preemptive scheduling is used, suspended jobs are not
         counted.
.sp 2
         A host does not always have to allocate this many job
         slots if jobs are waiting. The host must also satisfy
         its configured load conditions to accept more jobs.
.sp 2
\fBNJOBS \fR
.br
         The number of tasks for all jobs that are dispatched to
         the host. The \fRNJOBS\fR value includes running,
         suspended, and chunk jobs.
.sp 2
         For condensed host groups and compute units, the
         \fRNJOBS\fR value is the total number of tasks that are
         used by jobs that are dispatched to any host in the host
         group or compute unit.
.sp 2
         If the -alloc option is used, total is the sum of the
         \fRRUN\fR, \fRSSUSP\fR, \fRUSUSP\fR, and \fRRSV\fR
         counters.
.sp 2
\fBRUN\fR
.br
         The number of tasks for all running jobs on the host.
.sp 2
         For condensed host groups and compute units, the
         \fRRUN\fR value is the total number of tasks for running
         jobs on any host in the host group or compute unit. If
         the -alloc option is used, total is the allocated slots
         for the jobs on the host.
.sp 2
\fBSSUSP\fR
.br
         The number of tasks for all system suspended jobs on the
         host.
.sp 2
         For condensed host groups and compute units, the
         \fRSSUSP\fR value is the total number of tasks for all
         system suspended jobs on any host in the host group or
         compute unit. If the -alloc option used, total is the
         allocated slots for the jobs on the host.
.sp 2
\fBUSUSP\fR
.br
         The number of tasks for all user suspended jobs on the
         host. Jobs can be suspended by the user or by the LSF
         administrator.
.sp 2
         For condensed host groups and compute units, the
         \fRUSUSP\fR value is the total number of tasks for all
         user suspended jobs on any host in the host group or
         compute unit. If the -alloc option used, total is the
         allocated slots for the jobs on the host.
.sp 2
\fBRSV\fR
.br
         The number of tasks for all pending jobs with reserved
         slots on the host.
.sp 2
         For condensed host groups and compute units, the
         \fRRSV\fR value is the total number of tasks for all
         pending jobs with reserved slots on any host in the host
         group or compute unit. If the -alloc option used, total
         is the allocated slots for the jobs on the host.
.SH Output: Host-based -l option

.sp 2
In addition to the default output fields, the -l option also
displays the following information:
.sp 2
\fBloadSched, loadStop\fR
.br
         The scheduling and suspending thresholds for the host.
         If a threshold is not defined, the threshold from the
         queue definition applies. If both the host and the queue
         define a threshold for a load index, the most
         restrictive threshold is used.
.sp 2
         The migration threshold is the time that a job
         dispatched to this host can remain suspended by the
         system before LSF attempts to migrate the job to another
         host.
.sp 2
\fBSTATUS\fR
.br
         The long format that is shown by the -l option gives the
         possible reasons for a host to be closed. If a power
         policy is enabled in the lsb.threshold file, it shows
         the power state:
.sp 2
         \fBclosed_Adm\fR
.br
                  The host is closed by the LSF administrator or
                  root with the badmin hclose command. No job can
                  be dispatched to the host, but jobs that are
                  running on the host are not affected.
.sp 2
         \fBclosed_Busy\fR
.br
                  The host is overloaded. At least one load index
                  exceeds the configured threshold. Indices that
                  exceed their threshold are identified by an
                  asterisk (\fR*\fR). No job can be dispatched to
                  the host, but jobs that are running on the host
                  are not affected.
.sp 2
         \fBclosed_Cu_Excl\fR
.br
                  This host is a member of a compute unit that is
                  running an exclusive compute unit job
                  (submitted with the bsub -R "cu[excl]"
                  command).
.sp 2
         \fBclosed_EGO\fR
.br
                  For EGO-enabled SLA scheduling, host is closed
                  because it was not allocated by EGO to run LSF
                  jobs. Hosts that are allocated from EGO display
                  the status ok.
.sp 2
         \fBclosed_Excl \fR
.br
                  The host is running an exclusive job (submitted
                  with the bsub -x command).
.sp 2
         \fBclosed_Full \fR
.br
                  The maximum number of job slots on the host was
                  reached. No job can be dispatched to the host,
                  but jobs that are running on the host are not
                  affected.
.sp 2
         \fBclosed_LIM\fR
.br
                  LIM on the host is unreachable, but the sbatchd
                  daemon is running.
.sp 2
         \fBclosed_Lock \fR
.br
                  The host is locked by the EGO administrator or
                  root by using lsadmin limlock command. Running
                  jobs on the host are suspended by EGO (SSUSP
                  state). Use the lsadmin limunlock command to
                  unlock LIM on the local host.
.sp 2
         \fBclosed_Wind \fR
.br
                  The host is closed by a dispatch window that is
                  defined in the lsb.hosts file. No job can be
                  dispatched to the host, but jobs that are
                  running on the host are not affected.
.sp 2
         \fBclosed_RC \fR
.br
                  The LSF resource connector host is closed
                  because of a resource provider reclaim request.
                  Hosts are also marked as \fRclosed_RC\fR before
                  they are returned to a resource provider (such
                  as EGO, OpenStack, Amazon Web Services) when
                  maximum time-to-live (the
                  \fBLSB_RC_EXTERNAL_HOST_MAX_TTL\fR parameter in
                  the lsf.conf file) or host idle time (the
                  \fBLSB_RC_EXTERNAL_HOST_IDLE_TIME\fR parameter
                  in the lsf.conffile) was reached.
.sp 2
         \fBon\fR
.br
                  The host power state is \fRon\fR.
.sp 2
                  \fBNote: \fRPower state \fRon\fR does not mean
                  that the host state is \fRok\fR, which depends
                  on whether the lim and sbatchd daemons can be
                  connected by the management host.
.sp 2
         \fBoff\fR
.br
                  The host is powered off by policy or manually.
.sp 2
         \fBsuspend\fR
.br
                  The host is suspended by policy or manually
                  with badmin hpower.
.sp 2
         \fBrestarting\fR
.br
                  The host is resetting when resume operation
                  failed.
.sp 2
         \fBresuming\fR
.br
                  The host is being resumed from standby state,
                  which is triggered by either policy or cluster
                  administrator.
.sp 2
         \fBsuspending\fR
.br
                  The host is being suspended which is triggered
                  by either policy or cluster administrator.
.sp 2
         \fBclosed_Power\fR
.br
                  The host is put into power saving (suspend)
                  state by the cluster administrator.
.sp 2
         \fBok\fR
.br
                  Host suspend was triggered by power policy.
.sp 2
\fBCPUF\fR
.br
         Displays the CPU normalization factor of the host (see
         lshosts(1)).
.sp 2
\fBDISPATCH_WINDOW\fR
.br
         Displays the dispatch windows for each host. Dispatch
         windows are the time windows during the week when batch
         jobs can be run on each host. Jobs that are already
         started are not affected by the dispatch windows. When
         the dispatch windows close, jobs are not suspended. Jobs
         already running continue to run, but no new jobs are
         started until the windows reopen. The default for the
         dispatch window is no restriction or always open (that
         is, twenty-four hours a day and seven days a week). For
         the dispatch window specification, see the description
         for the \fRDISPATCH_WINDOWS\fR keyword under the
         \fR-l\fR option in the \fRbqueues\fR command.
.sp 2
\fBCURRENT LOAD\fR
.br
         Displays the total and reserved host load.
.sp 2
         \fBReserved\fR
.br
                  You specify reserved resources by using the
                  bsub -R option. These resources are reserved by
                  jobs that are running on the host.
.sp 2
         \fBTotal\fR
.br
                  The total load has different meanings,
                  depending on whether the load index is
                  increasing or decreasing.
.sp 2
                  For increasing load indices, such as run queue
                  lengths, CPU usage, paging activity, logins,
                  and disk I/O, the total load is the consumed
                  plus the reserved amount. The total load is
                  calculated as the sum of the current load and
                  the reserved load. The current load is the load
                  that is shown by the lsload command.
.sp 2
                  For decreasing load indices, such as available
                  memory, idle time, available swap space, and
                  available space in tmp, the total load is the
                  available amount. The total load is the
                  difference between the current load and the
                  reserved load. This difference is the available
                  resource as shown by the lsload command.
.sp 2
\fBLOAD THRESHOLD\fR
.br
         Displays the scheduling threshold (\fRloadSched\fR) and
         the suspending threshold (\fRloadStop\fR). Also displays
         the migration threshold if defined and the checkpoint
         support if the host supports checkpointing.
.sp 2
         The format for the thresholds is the same as for batch
         job queues. For an explanation of the thresholds and
         load indices, see the description for the \fRQUEUE
         SCHEDULING PARAMETERS\fR keyword under the -l option of
         the bqueues command.
.sp 2
\fBTHRESHOLD AND LOAD USED FOR EXCEPTIONS\fR
.br
         Displays the configured threshold of \fREXIT_RATE\fR for
         the host and its current load value for host exceptions.
.sp 2
\fBADMIN ACTION COMMENT\fR
.br
         If the EGO administrator specified an administrator
         comment with the -C option of the badmin host control
         commands hclose or hopen, the comment text is displayed.
.sp 2
\fBPE NETWORK INFORMATION\fR
.br
         Displays network resource information for IBM Parallel
         Edition (PE) jobs that are submitted with the bsub
         -network option, or to a queue (defined in the
         lsb.queuesfile) or an application profile (defined in
         the lsb.applications file) with the \fBNETWORK_REQ\fR
         parameter defined.
.sp 2
         The following example shows \fRPE NETWORK
         INFORMATION\fR:
.sp 2
         bhosts -l
.br
         
.br
         ...
.br
         PE NETWORK INFORMATION
.br
         NetworkID                      Status                 rsv_windows/total_windows
.br
         1111111                        ok                           4/64 
.br
         2222222                        closed_Dedicated             4/64 
.br
         ...
.sp 2
         \fRNetworkID\fR is the physical network ID returned by
         PE.
.sp 2
         One of the following network \fRStatus\fR values is
         displayed:
.sp 2
         \fB\fRok\fB\fR
.br
                  Normal status.
.sp 2
         \fB\fRclosed_Full\fB\fR
.br
                  All network windows are reserved.
.sp 2
         \fB\fRclosed_Dedicated\fB\fR
.br
                  A dedicated PE job is running on the network
                  (the usage=dedicated option is specified in the
                  network resource requirement string).
.sp 2
         \fB\fRunavail\fB\fR
.br
                  Network information is not available.
.sp 2
\fBCONFIGURED AFFINITY CPU LIST\fR
.br
         The host is configured in the lsb.hosts file to accept
         jobs for CPU and memory affinity scheduling. If the
         \fBAFFINITY\fR parameter is configured as Y, the keyword
         \fRall\fR is displayed. If a CPU list is specified under
         the \fRAFFINITY\fR column, the configured CPU list for
         affinity scheduling is displayed.
.SH Output: Resource-based -s option

.sp 2
The -s option displays the following resource information: the
amounts that are used for scheduling, the amounts reserved, and
the associated hosts for the resources. Only resources (shared or
host-based) with numeric values are displayed.
.sp 2
The following fields are displayed:
.sp 2
\fBRESOURCE\fR
.br
         The name of the resource.
.sp 2
\fBTOTAL\fR
.br
         The total amount free of a resource that is used for
         scheduling.
.sp 2
\fBRESERVED\fR
.br
         The amount that is reserved by jobs. You specify the
         reserved resource by using the \fRbsub -R\fR option.
.sp 2
\fBLOCATION\fR
.br
         The hosts that are associated with the resource.
.SH Output: Host-based -aff option

.sp 2
The -aff option displays host topology information for CPU and
memory affinity scheduling. Only the topology nodes that contain
CPUs in the list in the \fBCPULIST\fR parameter that is defined
in the lsb.hosts file are displayed.
.sp 2
The following fields are displayed:
.sp 2
\fBAFFINITY\fR
.br
         If the host is configured in the lsb.hosts file to
         accept jobs for CPU and memory affinity scheduling, and
         the host supports affinity scheduling, \fRAFFINITY:
         Enabled\fR is displayed.
.sp 2
         If the host is configured in the lsb.hosts file to
         accept jobs for CPU and memory affinity scheduling, but
         the host does not support affinity scheduling,
         \fRAFFINITY: Disabled (not supported)\fR is displayed.
         If the host is LIM is not available or sbatchd is
         unreachable, \fRAFFINITY: UNKNOWN\fR is displayed.
.sp 2
\fBHost[\fImemory\fB] \fIhost_name\fB\fR
.br
         Maximum available memory on the host. If memory
         availability cannot be determined, a dash (\fR-\fR) is
         displayed for the host. If the -l option is specified
         with the -aff option, the host name is not displayed.
.sp 2
         For hosts that do not support affinity scheduling, a
         dash (\fR-\fR) is displayed for host memory and no host
         topology is displayed.
.sp 2
\fBNUMA[\fInuma_node\fB: \fIrequested_mem\fB / \fImax_mem\fB]\fR
.br
         Requested and total NUMA node memory. It is possible for
         requested memory for the NUMA node to be greater than
         the maximum available memory displayed.
.sp 2
         A socket is a collection of cores with a direct pipe to
         memory. Each socket contains 1 or more cores. A socket
         is not necessarily a physical socket, but rather refers
         to the memory architecture of the machine.
.sp 2
         A core is a single entity capable of performing
         computations.
.sp 2
         A node contains sockets. A socket contains cores, and a
         core can contain threads if the core is enabled for
         multithreading.
.sp 2
         If no NUMA nodes are present, then the NUMA layer in the
         output is not shown. Other relevant items such as host,
         socket, core, and thread are still shown.
.sp 2
         If the host is not available, only the host name is
         displayed. A dash (\fR-\fR) is shown where available
         host memory would normally be displayed.
.sp 2
The following example shows \fRCONFIGURED AFFINITY CPU LIST\fR:
.sp 2
bhosts -l -aff hostA
.br
HOST  hostA
.br
STATUS           CPUF  JL/U    MAX  NJOBS    RUN  SSUSP  USUSP    RSV DISPATCH_WINDOW
.br
ok              60.00     -      8      0      0      0      0      0      -
.br

.br
 CURRENT LOAD USED FOR SCHEDULING:
.br
                r15s   r1m  r15m    ut    pg    io   ls    it   tmp   swp   mem  slots
.br
 Total           0.0   0.0   0.0   30%   0.0   193   25     0 8605M  5.8G 13.2G      8
.br
 Reserved        0.0   0.0   0.0    0%   0.0     0    0     0    0M    0M    0M      -
.br

.br

.br
 LOAD THRESHOLD USED FOR SCHEDULING:
.br
           r15s   r1m  r15m   ut      pg    io   ls    it    tmp    swp    mem
.br
 loadSched   -     -     -     -       -     -    -     -     -      -      -
.br
 loadStop    -     -     -     -       -     -    -     -     -      -      -
.br

.br

.br
 CONFIGURED AFFINITY CPU LIST: all
.br

.br
 AFFINITY: Enabled
.br
 Host[15.7G]
.br
     NUMA[0: 100M / 15.7G]
.br
         Socket0
.br
             core0(0)
.br
         Socket1
.br
             core0(1)
.br
         Socket2
.br
             core0(2)
.br
         Socket3
.br
             core0(3)
.br
         Socket4
.br
             core0(4)
.br
         Socket5
.br
             core0(5)
.br
         Socket6
.br
             core0(6)
.br
         Socket7
.br
             core0(7)
.br
  
.sp 2
When EGO detects missing elements in the topology, it attempts to
correct the problem by adding the missing levels into the
topology. In the following example, sockets and cores are missing
on host \fRhostB\fR:
.sp 2
 ...
.br
Host[1.4G] hostB
.br
    NUMA[0: 1.4G / 1.4G] (*0 *1)
.br
 ...
.sp 2
A job that requests two cores, or two sockets, or 2 CPUs runs.
Requesting two cores from the same NUMA node runs. However, a job
that requests two cores from the same socket remains pending.
.SH Output: GPU-based -gpu option

.sp 2
The -gpu option displays information of the GPUs on the host.
.sp 2
The following fields are displayed:
.sp 2
\fBHOST_NAME\fR
.br
         The host name.
.sp 2
\fBGPU_ID\fR
.br
         The GPU IDs on the host. Each GPU is shown as a separate
         line.
.sp 2
\fBMODEL\fR
.br
         The full model name, which consists of the GPU brand
         name and the model type.
.sp 2
\fBMUSED\fR
.br
         The amount of GPU memory that is actually used by the
         job.
.sp 2
\fBMRSV\fR
.br
         The amount of GPU memory that is reserved by the job.
.sp 2
\fBNJOBS\fR
.br
         The total number of jobs that are using the GPUs.
.sp 2
\fBRUN\fR
.br
         The total number of running jobs that are using the
         GPUs.
.sp 2
\fBSUSP\fR
.br
         The total number of suspended jobs that are using the
         GPUs.
.sp 2
\fBRSV\fR
.br
         The total number of pending jobs that reserved the GPUs.
.sp 2
\fBVENDOR\fR
.br
         The GPU vendor type (that is, the GPU brand name).
.sp 2
If the -l option is specified with the -gpu option, shows more
details of the GPUs with the following fields:
.sp 2
\fBNGPUS\fR
.br
         The total number of GPUs on the host.
.sp 2
\fBSHARED_AVAIL\fR
.br
         The current total number of GPUs that are available for
         concurrent use by multiple jobs (that is, when the job
         is submitted with -gpu mode=shared or -gpu
         j_exclusive=no options)
.sp 2
\fBEXCLUSIVE_AVAIL\fR
.br
         The current total number of GPUs that are used exclusive
         by the job (that is, when the job is submitted with -gpu
         mode=exclusive_process or -gpu j_exclusive=yes options)
.sp 2
\fBSTATIC ATTRIBUTES\fR
.br
         Static GPU information. The following field is specific
         to this section:
.sp 2
         \fBNVLINK/XGMI\fR
.br
                  The connections with other GPUs on the same
                  host.
.sp 2
                  The connection flag of each GPU is separated by
                  a slash (\fR/\fR) with the next GPU, with a
                  \fRY\fR showing that there is a direct NVLink
                  (for Nvidia) or xGMI (for AMD) connection with
                  that GPU.
.sp 2
         \fBMIG\fR
.br
                  A flag to indicate whether the GPU supports
                  Nvidia Multi-Instance GPU (MIG) functions.
.sp 2
\fBDYNAMIC ATTRIBUTES\fR
.br
         The latest GPU usage information as maintained by LSF.
.sp 2
\fBGPU JOB INFORMATION\fR
.br
         Information on jobs that are using the host\(aqs GPUs. The
         following fields are specific to this section:
.sp 2
         \fBJEXCL\fR
.br
                  Flag to indicate whether the GPU job requested
                  that the allocated GPUs cannot by used by other
                  jobs (that is, whether the job was submitted
                  with -gpu j_exclusive=yes)
.sp 2
\fBRUNJOBIDS\fR
.br
         The IDs of the running GPU jobs on the GPU.
.sp 2
\fBSUSPJOBIDS\fR
.br
         The IDs of the suspended GPU jobs on the GPU.
.sp 2
\fBRSVJOBIDS\fR
.br
         The IDs of the pending GPU jobs that reserved the GPU.
.SH Resource connector -rconly option

.sp 2
The -rconly option displays information that is specific to the
LSF resource connector.
.sp 2
The following fields are displayed:
.sp 2
\fBPUB_DNS_NAME and PUB_IP_ADDRESS\fR
.br
         Public DNS name and IP address of the host.
.sp 2
\fB PRIV_DNS_NAME and PRIV_IP_ADDRESS\fR
.br
         Private DNS name and IP address of the host.
.sp 2
\fBRC_STATUS\fR
.br
         LSF resource connector status.
.sp 2
\fBPROV_STATUS\fR
.br
         Resource provider status.
.sp 2
\fBTAG\fR
.br
         The \fRRC_ACCOUNT\fR value that is defined in the
         lsb.queues or lsb.applications files.
.sp 2
\fBUPDATED_AT\fR
.br
         Time stamp of the latest status change.
.sp 2
For example,
.sp 2
bhosts -rconly 
.br
PROVIDER : aws 
.br
TEMPLATE : aws-vm-1 
.br
PUB_DNS_NAMEPUB_IP_ADDRESSPRIV_DNS_NAMEPRIV_IP_ADDRESS RC_STATUSPROV_STATUSTAGUPDATED_AT 
.br
ec2-52-43-171-109. 52.43.171.109ip-192-168-0-85.us 192.168.0.85Doneterminateddefault2017-05-31T14:30:47CDT 
.br
ec2-35-160-157-112 35.160.157.112ip-192-168-0-69.us 192.168.0.69Allocatedrunningdefault2017-05-31T14:32:00CDT 
.SH Output: Attribute -attr option

.sp 2
The -attr option displays information on attributes that are
attached to the host.
.sp 2
The following fields are displayed:
.sp 2
\fBHOSTS\fR
.br
         The name of the hosts to which this attribute is
         attached.
.sp 2
\fBATTRIBUTE\fR
.br
         The name of the attribute.
.sp 2
\fBTTL\fR
.br
         The current time-to-live (TTL) value of the attribute.
.sp 2
\fBCREATOR\fR
.br
         The name of the user that created the attribute.
.sp 2
\fBDESCRIPTION\fR
.br
         User-specified information about the attribute.
.SH Files

.sp 2
Reads the lsb.hosts file.
.SH See also

.sp 2
lsb.hosts, bqueues, lshosts, badmin, lsadmin