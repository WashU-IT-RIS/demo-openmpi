
.ad l

.TH lsload 1 "July 2021" "" ""
.ll 72

.ce 1000
\fBlsload\fR
.ce 0

.sp 2
Displays load information for hosts.
.sp 2

.SH Synopsis

.sp 2
\fBlsload\fR [\fB-a\fR] [\fB-cname\fR] [\fB-gpu\fR]
[\fB-gpuload\fR] [\fB-l\fR | \fB-w\fR | \fB-o
"\fRfield_name[\fB:\fR[\fB-\fR][output_width]] ...
[\fBdelimiter=\(aq\fRcharacter\fB\(aq\fR]\fB"\fR [\fB-json\fR]]
[\fB-N\fR | \fB-E\fR] [\fB-I\fR load_index[\fB:\fRload_index]
 ...] [\fB-n\fR num_hosts] [\fB-R\fR res_req] [host_name ... |
cluster_name ...]
.sp 2
\fBlsload -s\fR [resource_name ...] [\fB-cname\fR] [\fB-loc\fR]
.sp 2
\fBlsload\fR [\fB-h\fR | \fB-V\fR]
.SH Description

.sp 2
Load information can be displayed on a per-host basis, or on a
per-resource basis.
.sp 2
By default, displays load information for all hosts in the local
cluster.
.sp 2
With the IBM Spectrum LSF multicluster capability enabled, the
lsload command also displays load information for all hosts in
equivalent clusters.
.sp 2
By default, displays raw load indices.
.sp 2
By default, load information for resources is displayed according
to CPU and paging load.
.SH Options

.sp 2
\fB-a\fR
.br
         Dynamic Cluster only. Shows information about all hosts,
         including Dynamic Cluster virtual machine hosts
         configured with the jobvm resource. Default output
         includes only standard LSF hosts and Dynamic Cluster
         hosts configured with the \fRdchost\fR resource.
.sp 2
\fB-cname\fR
.br
         In LSF Advanced Edition, includes the cluster name for
         execution cluster hosts and host groups in output.
.sp 2
         \fBNote: \fRThis command option is deprecated and might
         be removed in a future version of LSF.
.sp 2
\fB-gpu\fR
.br
         Displays host-based GPU information.
.sp 2
\fB-gpuload\fR
.br
         Displays GPU-based information.
.sp 2
\fB-json\fR
.br
         Displays the customized output in JSON format.
.sp 2
         When specified with the -o option, displays the
         customized output in the JSON format.
.sp 2
         This option should be used with the -o option. If this
         option is not used with the -o option, the
         \fBLSF_LSLOAD_FORMAT\fR parameter in the lsf.conf file
         or the \fBLSF_LSLOAD_FORMAT\fR environment variable must
         be defined.
.sp 2
\fB-l\fR
.br
         Long format. Displays load information without
         truncation along with extra fields for I/O and external
         load indices.
.sp 2
         This option overrides the index names that are specified
         with the -I option.
.sp 2
         This option does not display information about GPU
         resources (that is, this option does not display
         \fRgpu_\fI<num>\fRn\fR resources). Use the -gpu option
         to view host-based GPU information or the -gpuload
         option to view GPU-based information.
.sp 2
\fB-N\fR
.br
         Displays normalized CPU run queue length load indices.
.sp 2
\fB-E\fR
.br
         Displays effective CPU run queue length load indices.
         Options -N and -E are mutually exclusive.
.sp 2
\fB-w\fR
.br
         Displays load information in wide format. Fields are
         displayed without truncation.
.sp 2
\fB-I \fIload_index\fB[:\fIload_index\fB] ...\fR
.br
         Displays only the specified load indices. Separate
         multiple index names with colons (for example,
         \fRr1m:pg:ut\fR).
.sp 2
         Specify any built-in load index. Specify external load
         indices only for host-based resources that are numeric
         and dynamic (you cannot specify external load indices
         for shared, string, or Boolean resources).
.sp 2
\fB-n \fInum_hosts\fB\fR
.br
         Displays only load information for the requested number
         of hosts. Information for up to num_hosts hosts that
         best satisfy the resource requirements is displayed.
.sp 2
\fB-o\fR
.br
         Sets the customized output format.
.sp 2
         *  Specify which lsload fields, in which order, and with
            what width to display.
.sp 2
         *  Specify the asterisk wildcard character (*) in the
            field name to specify multiple external resource
            names. You can only specify one asterisk, but this
            asterisk can be at any position in the field name.
.sp 2
            For example, running lsload -o "gpu_mode*" shows
            fields such as \fRgpu_mode0\fR, \fRgpu_mode1\fR,
            \fRgpu_mode2\fR, \fRgpu_model0\fR, \fRgpu_model1\fR,
            and \fRgpu_model2\fR.
.sp 2
         *  Specify only the lsload field name to set its output
            to unlimited width and left justification.
.sp 2
         *  Specify the width colon (\fR:\fR) without a width to
            set the output width to the recommended width for
            that field.
.sp 2
         *  Specify the width colon (\fR:\fR) with a width to set
            the maximum number of characters to display for the
            field. When its value exceeds this width, lsload
            truncates the ending characters.
.sp 2
         *  Specify a hyphen (\fR-\fR) to set right justification
            when lsload displays the output for the specific
            field. If not specified, the default is to set left
            justification when lsload displays the output for a
            field.
.sp 2
         *  Specify the unit colon (\fR:\fR) with a unit to set
            the unit for the output of the specific field:
.sp 2
            *  Specify \fRS\fR to use a built-in conversion for
               space or capacity, such as memory or disk space.
               Values are automatically scaled for M (MB), G
               (GB), and T (TB), where the default unit is M
               (MB).
.sp 2
               For example, when displaying the \fBmem\fR field
               with a specified width of 3,
.sp 2
               *  For a value of 30, running the lsload -o
                  "mem:3:S" command shows \fR30.0M\fR.
.sp 2
               *  For a value of 4096, running the lsload -o
                  "mem:3:S" command shows \fR4.0G\fR.
.sp 2
               *  For a value of 5000000, running the lsload -o
                  "mem:3:S" command shows \fR4.8T\fR.
.sp 2
            *  Specify \fRD\fR to use a built-in conversion for
               duration or time, such as memory or disk space.
               Values are automatically scaled for s (seconds), m
               (minutes), h (hours), and d (days), where the
               default unit is s (seconds). The automatically
               scaled value is rounded up after the first decimal
               point.
.sp 2
               For example, when displaying the external
               \fBmytime\fR resource field with a specified width
               of 5,
.sp 2
               *  For a value of 30, running the lsload -o
                  "mytime:5:D" command shows \fR30.0s\fR.
.sp 2
               *  For a value of 8000, running the lsload -o
                  "mytime:5:D" command shows \fR2.2h\fR.
.sp 2
               *  For a value of 5000000, running the lsload -o
                  "mytime:5:D" command shows \fR57.8d\fR.
.sp 2
            *  Specify any other string of 1 - 3 characters and
               the characters are used as is in the field value.
               The first character must be a letter (upper or
               lower case). The second and third characters must
               be an alphanumeric character.
.sp 2
               For example, when displaying the external
               \fRgpu_temp\fR resource with a width of 3, running
               the lsload -o "gpu_temp:3:C" command for a value
               of 30 shows \fR30C\fR
.sp 2
         *  Use \fRdelimiter=\fR to set the delimiting character
            to display between different headers and fields. This
            delimiter must be a single character. By default, the
            delimiter is a space.
.sp 2
         Output customization applies only to the output for
         certain lsload options:
.sp 2
         *  \fBLSF_LSLOAD_FORMAT\fR and lsload -o both apply to
            output for the lsload command with no options, and
            for lsload options with short form output that filter
            information, including the following options: -a, -E,
            -cname, -N, -n, -R.
.sp 2
         *  \fBLSF_LSLOAD_FORMAT\fR and lsload -o do not apply to
            output for lsload options that use a modified format,
            including the following options: -I, -l, -w, -s.
.sp 2
         The lsload -o option overrides the
         \fBLSF_LSLOAD_FORMAT\fR environment variable, which
         overrides the \fBLSF_LSLOAD_FORMAT\fR setting in
         lsf.conf.
.sp 2
         By default, the lsload command displays the built-in
         resource indices. You can also specify the names of
         external resources. The following are the field names
         for the built-in resource indices that are used to
         specify the lsload fields to display, recommended width,
         and units of measurement for the displayed field:
.sp 2
         \fBTable 1. Output fields for lsload\fR
.sp 2
+-------------------------------+-------+----------------------+
| Field name                    | Width | Unit                 |
+-------------------------------+-------+----------------------+
| HOST_NAME                     | 20    |                      |
+-------------------------------+-------+----------------------+
| status                        | 15    |                      |
+-------------------------------+-------+----------------------+
| r15s                          | 6     |                      |
+-------------------------------+-------+----------------------+
| r1m                           | 6     |                      |
+-------------------------------+-------+----------------------+
| r15m                          | 6     |                      |
+-------------------------------+-------+----------------------+
| ut                            | 6     |                      |
+-------------------------------+-------+----------------------+
| pg                            | 6     |                      |
+-------------------------------+-------+----------------------+
| ls                            | 6     |                      |
+-------------------------------+-------+----------------------+
| it                            | 6     |                      |
+-------------------------------+-------+----------------------+
| io                            | 6     |                      |
+-------------------------------+-------+----------------------+
| tmp                           | 10    | LSF_UNIT_FOR_LIMITS  |
|                               |       | in lsf.conf (KB by   |
|                               |       | default)             |
+-------------------------------+-------+----------------------+
| swp                           | 10    | LSF_UNIT_FOR_LIMITS  |
|                               |       | in lsf.conf (KB by   |
|                               |       | default)             |
+-------------------------------+-------+----------------------+
| mem                           | 10    | LSF_UNIT_FOR_LIMITS  |
|                               |       | in lsf.conf (KB by   |
|                               |       | default)             |
+-------------------------------+-------+----------------------+
| gpu_status*                   | 10    |                      |
| For example, gpu_status0 and  |       |                      |
| gpu_status1 if there are two  |       |                      |
| GPUs.                         |       |                      |
+-------------------------------+-------+----------------------+
| gpu_error*                    | 20    |                      |
| For example, gpu_error0 and   |       |                      |
| gpu_error1 if there are two   |       |                      |
| GPUs.                         |       |                      |
+-------------------------------+-------+----------------------+
.sp 2
         Field names are case-sensitive. Valid values for the
         output width are any positive integer 1 - 4096.
.sp 2
         For example,
.sp 2
         lsload -o "HOST_NAME status: r15s:- r1m:7 r15m:-8 tmp:S swp::S mem:9:S delimiter=\(aq^\(aq"
.br

.sp 2
         This command displays the following fields:
.sp 2
         *  HOST_NAME with unlimited width and left-aligned.
.sp 2
         *  status with a maximum width of 15 characters (which
            is the recommended width) and left-aligned.
.sp 2
         *  r15s with a maximum width of 6 characters (which is
            the recommended width) and right-aligned.
.sp 2
         *  r1m with a maximum width of 7 characters and
            left-aligned.
.sp 2
         *  r15m with a maximum width of 8 characters and
            right-aligned.
.sp 2
         *  tmp with unlimited width, left-aligned, and
            automatically scaled for space or capacity (MB, GB,
            and TB).
.sp 2
         *  swp with a maximum width of 10 characters (which is
            the recommended width), left-aligned, and
            automatically scaled for space or capacity (MB, GB,
            and TB)
.sp 2
         *  mem with a maximum width of 9 characters,
            left-aligned, and automatically scaled for space or
            capacity (MB, GB, and TB)
.sp 2
         *  The \fR^\fR character is displayed between different
            headers and fields.
.sp 2
\fB-R \fIres_req\fB\fR
.br
         Displays only load information for hosts that satisfy
         the specified resource requirements.
.sp 2
         Load information for the hosts is sorted according to
         load on the specified resources.
.sp 2
         If \fIres_req\fR contains special resource names, only
         load information for hosts that provide these resources
         is displayed (run lshosts to find out what resources are
         available on each host).
.sp 2
         If one or more host names are specified, only load
         information about the hosts that satisfy the resource
         requirements is displayed.
.sp 2
         With the IBM Spectrum LSF multicluster capability, when
         a cluster name is specified, displays load information
         of hosts in the specified cluster that satisfy the
         resource requirements.
.sp 2
\fB\fIhost_name\fB ... | \fIcluster_name\fB ...\fR
.br
         Displays only load information for the specified hosts.
.sp 2
         With the IBM Spectrum LSF multicluster capability,
         displays only load information for hosts in the
         specified clusters.
.sp 2
\fB-s [\fIresource_name\fB ...] [-loc]\fR
.br
         Displays information about all dynamic resources that
         are configured in the cluster, or about the specified
         resources only. Specify dynamic resources (shared or
         host-based).
.sp 2
         This option does not display information about GPU
         resources (that is, this option does not display
         \fRgpu_\fI<num>\fRn\fR resources). Use the -gpu option
         to view host-based GPU information or the -gpuload
         option to view GPU-based information.
.sp 2
         If the \fBLOCATION\fR parameter in the
         lsf.cluster.\fIclustername\fR file is set to \fRall\fR
         to indicate that the resource is shared by all hosts in
         the cluster, the \fRLOCATION\fR field in the lsload -s
         command output also displays \fRALL\fR. To display the
         individual names of all the hosts in the cluster in the
         lsload -s command output, specify the -loc option
         together with the -s option.
.sp 2
\fB-h\fR
.br
         Prints command usage to stderr and exits.
.sp 2
\fB-V\fR
.br
         Prints LSF release version to stderr and exits.
.SH Default host-based output

.sp 2
Built-in load indices include \fRr15s\fR, \fRr1m\fR, \fRr15m\fR,
\fRut\fR, \fRpg\fR, \fRio\fR, \fRls\fR, \fRit\fR, \fRswp\fR,
\fRmem\fR, and \fRtmp\fR. External load indices are configured in
the file lsf.cluster.\fIcluster_name\fR. The selection and order
sections of resource requirements control for which hosts are
displayed and how the information is ordered.
.sp 2
The display includes the following fields:
.sp 2
\fBHOST_NAME\fR
.br
         Standard host name that is used by LSF, typically an
         internet domain name with two components.
.sp 2
\fBstatus\fR
.br
         Status of the host. A minus sign (\fR-\fR) can precede
         the status, indicating that RES is not running on the
         host.
.sp 2
         The following statuses are displayed:
.sp 2
         \fBok\fR
.br
                  The host is in normal state and can accept
                  remote jobs. The \fRok\fR status indicates that
                  the Load Information Manager (LIM) is unlocked
                  and that both LIM and the Remote Execution
                  Server (RES) are running.
.sp 2
         \fB-ok\fR
.br
                  The LIM on the host is running but RES is
                  unreachable.
.sp 2
         \fBbusy\fR
.br
                  The host is overloaded because some load
                  indices exceed configured thresholds. Load
                  index values that caused the host to be busy
                  are preceded by an asterisk (\fR*\fR).
.sp 2
         \fBlockW\fR
.br
                  The host is locked by its run window. Run
                  windows for a host are specified in the
                  lsf.conf configuration file, and can be
                  displayed by the lshosts command. A locked host
                  does not accept LSF jobs from other hosts.
.sp 2
         \fBlockU\fR
.br
                  The host is locked by the LSF administrator or
                  root.
.sp 2
         \fBunavail\fR
.br
                  The host is down or the LIM on the host is not
                  running.
.sp 2
\fBr15s\fR
.br
         The 15 second exponentially averaged CPU run queue
         length.
.sp 2
\fBr1m\fR
.br
         The 1 minute exponentially averaged CPU run queue
         length.
.sp 2
\fBr15m\fR
.br
         The 15 minute exponentially averaged CPU run queue
         length.
.sp 2
\fBut\fR
.br
         The CPU utilization exponentially averaged over the last
         minute, 0 - 1.
.sp 2
\fBio\fR
.br
         By default, \fRio\fR is not shown.
.sp 2
         If the -l option is specified, shows the disk I/O rate
         exponentially averaged over the last minute, in KB per
         second.
.sp 2
\fBpg\fR
.br
         The memory paging rate exponentially averaged over the
         last minute, in pages per second.
.sp 2
\fBls\fR
.br
         The number of current login users.
.sp 2
\fBit\fR
.br
         On UNIX, the idle time of the host (keyboard is not
         touched on all logged in sessions), in minutes.
.sp 2
         On Windows, the \fRit\fR index is based on the time that
         a screen saver is active on a particular host.
.sp 2
\fBtmp\fR
.br
         The amount of free space in \fR/tmp\fR, in MB.
.sp 2
\fBswp\fR
.br
         The amount of available swap space.
.sp 2
         By default, the amount is displayed in KB. The amount
         can appear in MB depending on the actual system swap
         space. Use the \fBLSF_UNIT_FOR_LIMITS\fR parameter in
         the lsf.conf file to specify a larger unit for the limit
         (GB, TB, PB, or EB).
.sp 2
\fBmem\fR
.br
         The amount of available RAM.
.sp 2
         By default, the amount is displayed in KB. The amount
         can appear in MB depending on the actual system memory.
         Use the \fBLSF_UNIT_FOR_LIMITS\fR parameter in the
         lsf.conf file to specify a larger unit for the limit
         (GB, TB, PB, or EB).
.sp 2
\fB\fIexternal_index\fB\fR
.br
         By default, external load indices are not shown.
.sp 2
         If the -l option is specified, shows indices for all
         dynamic custom resources available on the host,
         including shared, string, and Boolean resources.
.sp 2
         If the \fR-I\fI load_index\fR\fR option is specified,
         shows only indices for specified non-shared (host-based)
         dynamic numeric custom resources.
.SH Resource-based output with lsload -s

.sp 2
Displays information about shared and host-based dynamic
resources. Each line gives the value and the associated hosts for
an instance of the resource.
.sp 2
The displayed information consists of the following fields:
.sp 2
\fBRESOURCE\fR
.br
         Name of the resource.
.sp 2
\fBVALUE\fR
.br
         Value for an instance of the resource.
.sp 2
\fBLOCATION\fR
.br
         Hosts associated with the instance of the resource.
.SH Examples

.sp 2
The following command displays the load of \fRALPHA\fR hosts with
at least 20 MB of swap space, and a 1-minute run queue length
less than 0.5.
.sp 2
\fRlsload -R "select[r1m<=0.5 && swp>=20 && type==ALPHA]"\fR
.sp 2
The following command specifies the same resource requirements in
restricted format:
.sp 2
\fRlsload -R r1m=0.5:swp=20:type=ALPHA\fR
.sp 2
The following command displays the load of the hosts whose swap
space utilization is less than 75%. The resulting hosts are
ordered by paging rate.
.sp 2
\fRlsload -R "select[(1-swp/maxswp)<0.75] order[pg]"\fR
.sp 2
The following command displays the 1-minute CPU raw run queue
length, the CPU utilization, the disk I/O, and paging rates for
all hosts in the cluster.
.sp 2
\fRlsload -I r1m:ut:io:pg\fR
.sp 2
The following command displays the load of all hosts, ordered by
\fRr15s:pg\fR. The CPU run queue lengths are the effective run
queue lengths.
.sp 2
\fRlsload -E\fR
.SH Diagnostics

.sp 2
Exit status is -10 for LSF problems or an invalid resource names.
.sp 2
Exit status is -1 if an invalid option is specified.
.sp 2
Normal exit status for the lsload command is 0.
.SH See also

.sp 2
lim, lsf.cluster, lsplace, lshosts, lsinfo, lslockhost, ls_load