.ds ]W %
.ds ]L
.hy 0
.nh
.na
.TH lsb.nqsmaps 5 "June 2016   IBM Spectrum LSF Version 10.1"
.br

.SH NAME
\fBlsb.nqsmaps\fR
 - Configuration file for LSF to route batch jobs to NQS systems 

.SS Contents
.BR
.PP
.RS


.HP 3
o  lsb.nqsmaps Structure


.RE


.SH lsb.nqsmaps Structure
.BR
.PP

.PP
This file is required to specify the configuration information for compatability with 
NQS systems. The master batch daemon (mbatchd) uses this file for initialization (see 
\fBmbatchd\fR(8)) if one or more of the LSF queues is configured with some NQS queues 
as destinations for routing batch jobs. See the description of NQS_QUEUES in the 
lsb.queues(5) file. This file is not needed if there are no NQS queues specified as the 
destination. This file must be stored in the directory 
LSB_CONFDIR/\fIcluster_name\fR/configdir, where LSB_CONFDIR is defined in 
lsf.conf(5) and cluster_name is the name of the LSF cluster, as returned by 
\fBlsid\fR(1) or \fBls_getclustername\fR(3). 

.PP
The lsb.nqsmaps configuration file contains a mandatory section, Hosts, and an 
optional section, Users. 

.SH Hosts section
.BR
.PP


.IP
NQS uses a machine identification number (MID) to identify each host in the network 
that uses the NQS communication protocol. Each MID must be unique and must be the 
same in the NQS database of each host in the network. The MID is assigned and put 
into the NQS database using NQS program \fBnmapmgr\fR(1m) or Cray NQS command 
\fBqmgr\fR(8). mbatchd uses the NQS protocol to talk with NQS daemons for routing, 
monitoring, signaling, and deleting LSF jobs that run on NQS hosts. Therefore, the 
MIDs of the LSF master host and any LSF host that might become the master host (if 
the current master host goes down) must be assigned and put into the NQS database of 
each host on which LSF jobs are possibly processed. 


.IP
In this section, you should specify the MIDs of the LSF master host (including potential 
master hosts) and the NQS hosts that are defined in the lsb.queues file. If an NQS 
destination queue specified in the lsb.queues file is a pipe queue, the MIDs of all the 
destination  hosts of this pipe queue must be specified in lsb.nqsmaps. If a 
destination queue of this pipe queue is also a pipe queue, the MIDs of the destination 
hosts of this queue must also be listed, and so forth. 


.IP
There are three mandatory keywords in this section: 


.RE
.IP
HOST_NAME
.BR
.RS


.IP
The name of an LSF or NQS host. It can be the official host name or an alias 
host name known to the master batch daemon (mbatchd) through 
\fBgethostbyname\fR(3). 



.RE
.IP
MID 
.BR
.RS


.IP
The machine identification number of an LSF or NQS host. It is assigned by 
the NQS administrator for each host communicating using the NQS protocol. 



.RE
.IP
OS_TYPE 
.BR
.RS


.IP
The operating system (OS) type of the NQS host. At present, its value  can be 
one of ULTRIX, HPUX, AIX, SOLARIS, SUNOS, IRIX, OSF1, CONVEX or UNICOS. 
It is used by mbatchd to deliver the correct signals to the LSF jobs running on 
this NQS host. An incorrect OS type would cause unpredictable results. If the 
host is an LSF host, then "()" must be specified.   




.SH Users section
.BR
.PP


.IP
LSF assumes shared and uniform user accounts on all of the LSF hosts. If the user 
accounts on NQS hosts are not the same as on LSF hosts, then account mapping is 
needed so that the network server on the remote NQS host can take on the proper 
identity attributes. The mapping is performed for all NQS network conversations. In 
addition, the user name and the remote host name may need to match an entry either in 
the .rhosts file in the user's home directory, or in the /etc/hosts.equiv file, or in 
the /etc/hosts.nqs file  on the server host.  For Cray NQS, the entry may be either 
in the .rhosts or in  the .nqshosts file in the user's home directory. 


.IP
This section defines the user name mapping  from the LSF master host to each of the 
NQS hosts listed in the Host section above; i.e., the hosts on which the jobs routed out 
by LSF may run. There are two mandatory keywords: 


.RE
.IP
FROM_NAME 
.BR
.RS


.IP
The name of an LSF user. It must be a valid login name on the LSF master host. 



.RE
.IP
TO_NAME 
.BR
.RS


.IP
A list of user names on NQS hosts to which the corresponding FROM_NAME is 
mapped. Each of the user names is specified in the format of 
\fIuser_name\fR\fB@\fRhost_name. The hostname  is the official name or an alias name 
of an NQS  host, while the username is a valid login  name on this NQS host. 
The TO_NAME of a user on a specific NQS host  should always be the same 
when the user's name is mapped from different hosts. If the TO_NAME on an 
NQS host is not specified here, LSF assumes that the user has the same user 
name on this NQS host as on an LSF host.   




.SH SEE ALSO
.BR
.PP

.SS Related Topics
.BR
.PP

.PP
lsf.conf(5), \fBlsid\fR(1), \fBls_getclustername\fR(3), \fBbqueues\fR(1), lsb.queues(5), 
\fBmbatchd\fR(8), \fBnmapmgr\fR(1m), \fBqmgr\fR(8), \fBgethostbyname\fR(3). 

.SS Files
.BR
.PP

.PP
None

