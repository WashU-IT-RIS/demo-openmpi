
.ad l

.TH bctrld 8 "July 2021" "" ""
.ll 72

.ce 1000
\fBbctrld\fR
.ce 0

.sp 2
Administrative tool to control LSF daemons.
.sp 2

.SH Synopsis

.sp 2
\fBbctrld \fRsubcommand daemon options
.sp 2
\fBbctrld\fR [\fB-h\fR | \fB-V\fR]
.SH Description

.sp 2
The bctrld command runs privileged subcommands to stop, start,
and restart the LIM, RES, and sbatchd daemons in the LSF cluster.
.sp 2
If you do not include subcommands, the \fRbctrld\fR command
prompts for subcommands from the standard input.
.sp 2
When you use subcommands for which multiple host names or host
groups can be specified, do not enclose the multiple names in
quotation marks.
.sp 2
When live configuration with the bconf command is enabled (the
\fBLSF_LIVE_CONFDIR\fR parameter is defined in the lsf.conf
file), the bctrld command uses configuration files that are
generated by the bconf command.
.sp 2
\fBImportant: \fRThe bctrld executable file is installed with the
setuid flag turned off and this command can be used only by root.
.sp 2
To allow non-root users to run the bctrld command to start the
daemons, you must either add the non-root users to the sudo Linux
group or enable the setuid flag and configure the non-root users
in the lsf.sudoers file.
.SH Subcommand synopsis

.sp 2
\fRrestart lim\fR [\fR-v\fR] [\fR-f\fR] [\fIhost_name \fR ... |
\fRall\fR]
.sp 2
\fRrestart res\fR [\fR-f\fR] [\fIhost_name \fR ... | \fRall\fR]
.sp 2
\fRrestart sbd\fR [\fR-f\fR] [\fIhost_name \fR ... | \fRall\fR]
.sp 2
\fRstart lim\fR [\fR-f\fR] [\fIhost_name \fR ... |\fRall\fR]
.sp 2
\fRstart res\fR [\fR-f\fR] [\fIhost_name\fR ... | \fRall\fR]
.sp 2
\fRstart sbd\fR [\fR-f\fR] [\fIhost_name\fR ... | \fRall\fR]
.sp 2
\fRstop lim\fR [\fR-f\fR] [\fIhost_name \fR ... | \fRall\fR]
.sp 2
\fRstop res\fR [\fR-f\fR] [\fIhost_name \fR ... | \fRall\fR]
.sp 2
\fRstop sbd\fR [\fR-f\fR] [\fIhost_name \fR ... | \fRall\fR]
.sp 2
\fRhelp\fR [\fIsubcommand \fR ...] | \fR?\fR [\fIsubcommand \fR
 ...]
.sp 2
\fRquit \fR
.sp 2
\fR-h \fR
.sp 2
\fR-V \fR
.SH Options

.sp 2
\fB\fIsubcommand\fB\fR
.br
         Runs the specified subcommand. See the Usage section.
.sp 2
\fB-h \fR
.br
         Prints command usage to stderr and exits.
.sp 2
\fB-V \fR
.br
         Prints LSF release version to stderr and exits.
.SH Usage

.sp 2
\fBrestart lim [-v] [-f] [\fIhost_name\fB ... | all]\fR
.br
         Restarts LIM on the local host if no arguments are
         supplied.
.sp 2
         Restarts LIMs on the specified hosts or on all hosts in
         the cluster if the word all is specified. You are
         prompted to confirm LIM restart.
.sp 2
         Use the bctrld restart lim subcommand with care. Do not
         change the cluster until all the LIMs start. If you run
         the \fRbctrld restart lim \fIhost_name\fR ...\fR
         subcommand to restart some of the LIMs after you change
         the configuration files, but other LIMs are still
         running the old configuration, confusion arises among
         these LIMs. To avoid this situation, use the lsadmin
         reconfig subcommand instead of the bctrld restart lim
         subcommand.
.sp 2
         \fB-v \fR
.br
                  Displays detailed messages about configuration
                  file checking.
.sp 2
         \fB-f \fR
.br
                  Disables user interaction and forces LIM to
                  restart if no unrecoverable errors are found.
                  This option is useful in batch mode. The
                  \fRbctrld restart lim -f all\fR subcommand is
                  the same as the lsadmin reconfig -f subcommand.
.sp 2
\fBrestart res [-f] [\fIhost_name\fB ... | all] \fR
.br
         Restarts RES on the local host if no arguments are
         specified.
.sp 2
         Restarts RES on the specified hosts or on all hosts in
         the cluster if the word all is specified. You are
         prompted to confirm RES restart.
.sp 2
         If RES is running, it keeps running until all remote
         tasks exit. While the bctrld restart res subcommand
         waits for remote tasks to exit, another RES is restarted
         to serve the new queries.
.sp 2
         \fB-f\fR
.br
                  Disables interaction and does not ask for
                  confirmation for restarting RES.
.sp 2
\fBrestart sbd [-f] [\fIhost_name\fB ... | all]\fR
.br
         Restarts the sbatchd daemon on the specified hosts, or
         on all server hosts if the reserved word all is
         specified. If no host is specified, the local host is
         assumed. The sbatchd daemon reruns itself from the
         beginning. This rerun allows new sbatchd binary files to
         be used.
.sp 2
         \fB-f\fR
.br
                  Specify the name of the file into which timing
                  messages are to be logged. A file name with or
                  without a full path can be specified.
.sp 2
                  If a file name without a path is specified, the
                  file is saved in the LSF system log file
                  directory.
.sp 2
                  The name of the file has the following format:
.sp 2
                  logfile_name.daemon_name.log.host_name
.sp 2
                  On UNIX, if the specified path is not valid,
                  the log file is created in the /tmp directory.
.sp 2
                  On Windows, if the specified path is not valid,
                  no log file is created.
.sp 2
                  \fBNote: \fRBoth timing and debug messages are
                  logged in the same files.
.sp 2
                  The default is the current LSF system log file
                  in the LSF system log file directory, in the
                  format \fIdaemon_name.\fRlog\fI.host_name\fR.
.sp 2
\fBstart lim [-f] [\fIhost_name\fB ... |all] \fR
.br
         Starts LIM on the local host if no arguments are
         specified.
.sp 2
         Starts LIMs on the specified hosts or on all hosts in
         the cluster if the word all is the only argument
         provided. You are prompted to confirm LIM startup.
.sp 2
         Only root and users who are listed in the parameter
         \fBLSF_STARTUP_USERS\fR in the lsf.sudoers file can use
         the all and -f options to start LIM as root.
.sp 2
         If permission to start LIMs as root is not configured,
         use the bctrld start lim subcommand to start LIMs as
         yourself after your confirmation.
.sp 2
         \fB-f\fR
.br
                  Disables interaction and does not ask for
                  confirmation for starting LIMs.
.sp 2
\fBstart res [-f] [\fIhost_name\fB ... | all]\fR
.br
         Starts RES on the local host if no arguments are
         specified.
.sp 2
         Starts RES on the specified hosts or on all hosts in the
         cluster if the word all is specified. You are prompted
         to confirm RES startup.
.sp 2
         Only root and users who are defined by the
         \fBLSF_STARTUP_USERS\fR parameter in the lsf.sudoers
         file can use the all and -f options to start RES as
         root.
.sp 2
         \fB-f\fR
.br
                  Disables interaction and does not ask for
                  confirmation for starting RESs.
.sp 2
\fBstart sbd [-f] [\fIhost_name\fB ... | all]\fR
.br
         Starts the sbatchd daemon on the specified hosts, or on
         all batch server hosts if the reserved word all is
         specified. Only \fRroot\fR and users who are listed in
         the lsf.sudoers file can use the all and -f options. If
         no host is specified, the local host is assumed.
.sp 2
         \fB-f\fR
.br
                  Disables interaction and does not ask for
                  confirmation for starting the sbatchd daemon.
.sp 2
\fBstop lim [-f] [\fIhost_name\fB ... | all]\fR
.br
         Shuts down LIM on the local host if no arguments are
         supplied.
.sp 2
         Shuts down LIMs on the specified hosts or on all hosts
         in the cluster if the word all is specified. You are
         prompted to confirm LIM shutdown.
.sp 2
         \fB-f\fR
.br
                  Disables interaction and does not ask for
                  confirmation for shutting down LIMs.
.sp 2
\fBstop res [-f] [\fIhost_name\fB ... | all]\fR
.br
         Shuts down RES on the local host if no arguments are
         specified.
.sp 2
         Shuts down RES on the specified hosts or on all hosts in
         the cluster if the word all is specified. You are
         prompted to confirm RES shutdown.
.sp 2
         If RES is running, it keeps running until all remote
         tasks exit.
.sp 2
         \fB-f\fR
.br
                  Disables interaction and does not ask for
                  confirmation for shutting down RES.
.sp 2
\fBstop sbd [-f] [\fIhost_name\fB ... | all]\fR
.br
         Shuts down the sbatchd daemon on the specified hosts, or
         on all batch server hosts if the reserved word all is
         specified. If no host is specified, the local host is
         assumed. The sbatchd daemon exits after it receives the
         request.
.sp 2
         \fB-f\fR
.br
                  Disables interaction and does not ask for
                  confirmation for shutting down sbatchd.
.sp 2
\fBhelp [\fIsubcommand\fB ...] | ? [\fIsubcommand\fB ...]\fR
.br
         Displays the syntax and functions of the specified
         subcommands.
.sp 2
         From the command prompt, you can use help or ?.
.sp 2
\fBquit \fR
.br
         Exits the bctrld session.
.SH See also

.sp 2
lsf.conf, lsf.sudoers