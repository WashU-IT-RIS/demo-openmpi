
.ad l

.TH lsadmin 8 "July 2021" "" ""
.ll 72

.ce 1000
\fBlsadmin\fR
.ce 0

.sp 2
Administrative tool to control LIM and RES daemon operations in
LSF.
.sp 2

.SH Synopsis

.sp 2
\fBlsadmin \fRsubcommand
.sp 2
\fBlsadmin\fR [\fB-h\fR | \fB-V\fR]
.SH Description

.sp 2
\fBImportant: \fRThis command can be used only by LSF
administrators.
.sp 2
The lsadmin command runs privileged subcommands to control LIM
and RES daemon operations in the LSF cluster.
.sp 2
If you do not include subcommands, the \fRlsadmin\fR command
prompts for subcommands from the standard input.
.sp 2
When you use subcommands for which multiple host names or host
groups can be specified, do not enclose the multiple names in
quotation marks.
.sp 2
When live configuration with the bconf command is enabled (the
\fBLSF_LIVE_CONFDIR\fR parameter is defined in the lsf.conf
file), the lsadmin command uses configuration files that are
generated by the bconf command.
.sp 2
The lsadmin executable file is installed with the setuid flag
turned off.
.SH Subcommand synopsis

.sp 2
\fRckconfig\fR [\fR-v\fR]
.sp 2
\fRreconfig\fR [\fR-f\fR] [\fR-v\fR]
.sp 2
\fRlimlock\fR [\fR-l\fR \fItime_seconds\fR]
.sp 2
\fRlimunlock \fR
.sp 2
\fRreslogon\fR [\fR-c\fR \fIcpu_time\fR] [\fIhost_name \fR ... |
\fRall\fR]
.sp 2
\fRreslogoff\fR [\fIhost_name \fR ... | \fRall\fR]
.sp 2
\fRlimdebug\fR [\fR-c\fR \fIclass_name \fR ...] [\fR-l\fR
\fIdebug_level\fR] [\fR-f\fR \fIlogfile_name\fR] [\fR-o\fR]
[\fIhost_name\fR ...]
.sp 2
\fRresdebug\fR [\fR-c\fR \fIclass_name\fR] [\fR-l\fR
\fIdebug_level\fR] [\fR-f\fR \fIlogfile_name\fR] [\fR-o\fR]
[\fIhost_name\fR ...]
.sp 2
\fRlimtime\fR [\fR-l\fR \fItiming_level\fR] [\fR-f\fR
\fIlogfile_name\fR] [\fR-o\fR] [\fIhost_name\fR ...]
.sp 2
\fRrestime\fR [\fR-l\fR \fItiming_level\fR] [\fR-f\fR
\fIlogfile_name\fR] [\fR-o\fR] [\fIhost_name\fR ...]
.sp 2
\fRshowconf\fR \fRlim\fR [\fIhost_name\fR ... | \fRall\fR]
.sp 2
\fRhelp\fR [\fIsubcommand \fR ...] | \fR?\fR [\fIsubcommand \fR
 ...]
.sp 2
\fRquit \fR
.sp 2
\fR-h \fR
.sp 2
\fR-V \fR
.SH Options

.sp 2
\fB\fIsubcommand\fB\fR
.br
         Runs the specified subcommand. See the Usage section.
.sp 2
\fB-h \fR
.br
         Prints command usage to stderr and exits.
.sp 2
\fB-V \fR
.br
         Prints LSF release version to stderr and exits.
.SH Usage

.sp 2
\fBckconfig [-v]\fR
.br
         Checks LSF configuration files.
.sp 2
         \fB-v \fR
.br
                  Displays detailed messages about configuration
                  file checking.
.sp 2
\fBreconfig [-f] [-v]\fR
.br
         Restarts LIM on all hosts in the cluster. Use the
         reconfig subcommand after you change configuration
         files. The configuration files are checked before all
         LIMs in the cluster are restarted. If the configuration
         files are not correct, reconfiguration is not started.
.sp 2
         If the \fBLSF_MASTER_LIST\fR parameter is specified in
         the lsf.conf file, you are prompted to confirm the
         reconfiguration for only the management candidate hosts.
.sp 2
         \fB-f \fR
.br
                  Disables user interaction and forces LIM to
                  restart on all hosts in the cluster if no
                  unrecoverable errors are found. This option is
                  useful in batch mode.
.sp 2
         \fB-v\fR
.br
                  Displays detailed messages about configuration
                  file checking.
.sp 2
\fBlimrestart\fR
.br
         This subcommand is obsolete in LSF Version 10.1 Fix Pack
         11. Use the bctrld restart lim command instead to
         restart the LIM daemon.
.sp 2
\fBlimshutdown\fR
.br
         This subcommand is obsolete in LSF Version 10.1 Fix Pack
         11. Use the bctrld stop lim command instead to shut down
         the LIM daemon.
.sp 2
\fBlimstartup\fR
.br
         This subcommand is obsolete in LSF Version 10.1 Fix Pack
         11. Use the bctrld start lim command instead to start
         the LIM daemon.
.sp 2
\fBlimlock [-l \fItime_seconds\fB]\fR
.br
         Locks LIM on the local host until it is explicitly
         unlocked if no time is specified. When a host is locked,
         LIMâ€™s load status becomes \fRlockU\fR. No job is sent to
         a locked host by LSF.
.sp 2
         \fB-l time_seconds\fR
.br
                  The host is locked for the specified time in
                  seconds.
.sp 2
                  LSF suspends all non-exclusive jobs that are
                  running on the host. Locking a host is useful
                  if it is running an exclusive job that required
                  all the available CPU time, memory, or both. If
                  the \fBLSB_DISABLE_LIMLOCK_EXCL=y\fR parameter
                  is set, to enable preemption of exclusive jobs,
                  for example, LSF suspends all jobs, including
                  exclusive jobs.
.sp 2
\fB limunlock\fR
.br
         Unlocks LIM on the local host.
.sp 2
\fBresrestart\fR
.br
         This subcommand is obsolete in LSF Version 10.1 Fix Pack
         11. Use the bctrld restart res command instead to
         restart the RES daemon.
.sp 2
\fBresshutdown\fR
.br
         This subcommand is obsolete in LSF Version 10.1 Fix Pack
         11. Use the bctrld stop res command instead to shut down
         the RES daemon.
.sp 2
\fBresstartup\fR
.br
         This subcommand is obsolete in LSF Version 10.1 Fix Pack
         11. Use the bctrld start res command instead to start
         the RES daemon.
.sp 2
\fBreslogon [-c \fIcpu_time\fB] [\fIhost_name \fB ... | all]\fR
.br
         Logs all tasks that are run by RES on the local host if
         no arguments are specified.
.sp 2
         Logs tasks that are run by RES on the specified hosts or
         on all hosts in the cluster if all is specified.
.sp 2
         RES writes the task resource usage information into the
         log file lsf.acct.\fIhost_name\fR. The location of the
         log file is determined by the \fBLSF_RES_ACCTDIR\fR
         parameter in the lsf.conf file. If the
         \fBLSF_RES_ACCTDIR\fR parameter is not defined, or RES
         cannot access it, the log file is created in the
         \fR/tmp\fR directory instead.
.sp 2
         \fB-c \fIcpu_time\fB\fR
.br
                  Logs only tasks that use more than the
                  specified amount of CPU time. The amount of CPU
                  time is specified by \fIcpu_time\fR in
                  milliseconds.
.sp 2
\fBreslogoff [\fIhost_name\fB ... | all]\fR
.br
         Turns off RES task logging on the specified hosts or on
         all hosts in the cluster if all is specified.
.sp 2
         If no arguments are specified, turns off RES task
         logging on the local host.
.sp 2
\fBlimdebug [-c \fIclass_name\fB ...] [-l \fIdebug_level\fB] [-f
\fIlogfile_name\fB] [-o] [\fIhost_name\fB ...]\fR
.br
         Sets the message log level for LIM to include additional
         information in log files. You must be root or the LSF
         administrator to use this command.
.sp 2
         If the command is used without any options, the
         following default values are used:
.sp 2
         \fB\fIclass_name\fB=0\fR
.br
                  No additional classes are logged.
.sp 2
         \fB\fIdebug_level\fB=0\fR
.br
                  \fRLOG_DEBUG\fR level in parameter
                  \fBLSF_LOG_MASK\fR.
.sp 2
         \fB\fR\fIlogfile_name\fR\fIdaemon_name\fR.log.\fIhost_name\fR\fB\fR
.br
                  LSF system log file in the LSF system log file
                  directory, in the format
                  \fR\fIdaemon_name\fR.log.\fIhost_name\fR\fR.
.sp 2
         \fB\fR\fIhost_name\fR=\fIlocal_host\fR\fB\fR
.br
                  Host from which the command was submitted.
.sp 2
         In LSF multicluster capability, debug levels can be set
         only for hosts within the same cluster. For example, you
         cannot set debug or timing levels from a host in
         \fRclusterA\fR for a host in \fRclusterB\fR. You need to
         be on a host in \fRclusterB\fR to set up debug or timing
         levels for \fRclusterB\fR hosts.
.sp 2
         \fB-c \fIclass_name\fB ...\fR
.br
                  Specify software classes for which debug
                  messages are to be logged.
.sp 2
                  By default, no additional classes are logged
                  (class name \fR0\fR).
.sp 2
                  \fBNote: \fR Classes are also listed in the
                  lsf.h header file.
.sp 2
                  The following classes are supported:
.sp 2
                  \fB\fRLC_AFS\fB and \fRLC2_AFS\fB\fR
.br
                           Log AFS messages.
.sp 2
                  \fB\fRLC_AUTH\fB and \fRLC2_AUTH\fB\fR
.br
                           Log authentication messages.
.sp 2
                  \fB\fRLC_CHKPNT\fB\fR
.br
                           Log checkpointing messages.
.sp 2
                  \fB\fRLC_COMM\fB and \fRLC2_COMM\fB\fR
.br
                           Log communication messages.
.sp 2
                  \fB\fRLC_CONF\fB\fR
.br
                           Print all parameters in the lsf.conf
                           and ego.conf files.
.sp 2
                  \fB\fRLC_DCE\fB and \fRLC2_DCE\fB\fR
.br
                           Log messages that pertain to DCE
                           support.
.sp 2
                  \fB\fRLC_EXEC\fB and \fRLC2_EXEC\fB\fR
.br
                           Log significant steps for job
                           execution.
.sp 2
                  \fB\fRLC_FILE\fB and \fRLC2_FILE\fB\fR
.br
                           Log file transfer messages.
.sp 2
                  \fB\fRLC_HANG\fB and \fRLC2_HANG\fB\fR
.br
                           Mark where a program might hang.
.sp 2
                  \fB\fRLC_MULTI\fB and \fRLC2_MULTI\fB\fR
.br
                           Log messages that pertain to LSF
                           multicluster capability.
.sp 2
                  \fB\fRLC_PIM\fB and \fRLC2_PIM\fB\fR
.br
                           Log PIM messages.
.sp 2
                  \fB\fRLC_SIGNAL\fB and \fRLC2_SIGNAL\fB\fR
.br
                           Log messages that pertain to signals.
.sp 2
                  \fB\fRLC_TRACE\fB and \fRLC2_TRACE\fB\fR
.br
                           Log significant program walk steps.
.sp 2
                  \fB\fRLC_XDR\fB and \fRLC2_XDR\fB\fR
.br
                           Log everything that is transferred by
                           XDR.
.sp 2
         \fB-l \fIdebug_level\fB\fR
.br
                  Specify level of detail in debug messages. The
                  higher the number, the more detail that is
                  logged. Higher levels include all lower levels.
.sp 2
                  The default is \fR0\fR (LOG_DEBUG level in
                  parameter \fBLSF_LOG_MASK\fR)
.sp 2
                  The following values are supported:
.sp 2
                  \fB\fR0\fB\fR
.br
                           LOG_DEBUG level for parameter
                           \fBLSF_LOG_MASK\fR in the lsf.conf
                           file. \fR0\fR is the default.
.sp 2
                  \fB\fR1\fB\fR
.br
                           LOG_DEBUG1 level for extended logging.
                           A higher level includes lower logging
                           levels. For example, LOG_DEBUG1
                           includes LOG_DEBUG levels.
.sp 2
                  \fB\fR2\fB\fR
.br
                           LOG_DEBUG2 level for extended logging.
                           A higher level includes lower logging
                           levels. For example, LOG_DEBUG2
                           includes LOG_DEBUG1 and LOG_DEBUG
                           levels.
.sp 2
                  \fB\fR3\fB\fR
.br
                           LOG_DEBUG3 level for extended logging.
                           A higher level includes lower logging
                           levels. For example, LOG_DEBUG3
                           includes LOG_DEBUG2, LOG_DEBUG1, and
                           LOG_DEBUG levels.
.sp 2
         \fB-f \fIlogfile_name\fB\fR
.br
                  Specify the name of the file into which
                  debugging messages are to be logged. You can
                  specify a file name with or without a full
                  path.
.sp 2
                  If a file name without a path is specified, the
                  file is saved in the LSF system log file
                  directory.
.sp 2
                  The name of the file that is created has the
                  following format:
.sp 2
                  logfile_name.daemon_name.log.host_name
.sp 2
                  On UNIX and Linux, if the specified path is not
                  valid, the log file is created in the
                  \fR/tmp\fR directory.
.sp 2
                  On Windows, if the specified path is not valid,
                  no log file is created.
.sp 2
                  By default, current LSF system log file in the
                  LSF system log file directory is used.
.sp 2
         \fB-o\fR
.br
                  Turns off temporary debug settings and resets
                  them to the daemon start state. The message log
                  level is reset back to the value of
                  \fBLSF_LOG_MASK\fR and classes are reset to the
                  value of \fBLSB_DEBUG_RES\fR,
                  \fBLSB_DEBUG_LIM\fR.
.sp 2
                  The log file is also reset back to the default
                  log file.
.sp 2
         \fB\fIhost_name\fB ...\fR
.br
                  Optional. Sets debug settings on the specified
                  host or hosts.
.sp 2
                  The default is the local host (the host from
                  which command was submitted).
.sp 2
\fBresdebug [-c \fIclass_name\fB] [-l \fIdebug_level\fB] [-f
\fIlogfile_name\fB] [-o] [\fIhost_name\fB ...]\fR
.br
         Sets the message log level for RES to include additional
         information in log files. You must be the LSF
         administrator to use this command, not root.
.sp 2
         See description of limdebug for an explanation of
         options.
.sp 2
\fBlimtime [-l \fItiming_level\fB] [-f \fIlogfile_name\fB] [-o]
[\fIhost_name\fB ...]\fR
.br
         Sets timing level for the LIM daemon to include extra
         timing information in log files. You must be root or the
         LSF administrator to use this command.
.sp 2
         If the command is used without any options, the
         following default values are used:
.sp 2
         \fB\fR\fItiming_level\fR=no\fB\fR
.br
                  Timing information is recorded.
.sp 2
         \fB\fR\fIlogfile_name\fR=current\fB\fR
.br
                  LSF system log file in the LSF system log file
                  directory, in the format
                  \fR\fIdaemon_name.\fRlog\fI.host_name\fR\fR.
.sp 2
         \fB\fR\fIhost_name=\fRlocal\fB\fR
.br
                  The host from which command was submitted.
.sp 2
         In LSF multicluster capability, timing levels can be set
         only for hosts within the same cluster. For example, you
         cannot set debug or timing levels from a host in
         \fRclusterA\fR for a host in \fRclusterB\fR. You need to
         be on a host in \fRclusterB\fR to set up debug or timing
         levels for \fRclusterB\fR hosts.
.sp 2
         \fB-l \fItiming_level\fB\fR
.br
                  Specifies detail of timing information that is
                  included in log files. Timing messages indicate
                  the execution time of functions in the software
                  and are logged in milliseconds.
.sp 2
                  The following values are supported: \fR1 | 2 |
                  3 | 4 | 5\fR
.sp 2
                  The higher the number, the more functions in
                  the software that are timed and whose execution
                  time is logged. The lower numbers include more
                  common software functions. Higher levels
                  include all lower levels.
.sp 2
                  By default, no timing information is logged.
.sp 2
         \fB-f \fIlogfile_name\fB\fR
.br
                  Specify the name of the file into which timing
                  messages are to be logged. You can specify a
                  file name with or without a full path.
.sp 2
                  If a file name without a path is specified, the
                  file is saved in the LSF system log file
                  directory.
.sp 2
                  The name of the file that is created has the
                  following format:
.sp 2
                  logfile_name.daemon_name.log.host_name
.sp 2
                  On UNIX and Linux, if the specified path is not
                  valid, the log file is created in the
                  \fR/tmp\fR directory.
.sp 2
                  On Windows, if the specified path is not valid,
                  no log file is created.
.sp 2
                  \fBNote: \fRBoth timing and debug messages are
                  logged in the same files.
.sp 2
                  The default is the current LSF system log file
                  in the LSF system log file directory, in the
                  format \fIdaemon_name.\fRlog\fI.host_name\fR.
.sp 2
         \fB-o\fR
.br
                  Optional. Turn off temporary timing settings
                  and reset them to the daemon start state. The
                  timing level is reset back to the value of the
                  parameter for the corresponding daemon
                  (\fBLSB_TIME_LIM\fR, \fBLSB_TIME_RES\fR).
.sp 2
                  The log file is also reset back to the default
                  log file.
.sp 2
         \fB\fIhost_name\fB ... \fR
.br
                  Sets the timing level on the specified host or
                  hosts.
.sp 2
                  By default, timing level is set on the local
                  host (host from which command was submitted).
.sp 2
\fBrestime [-l \fItiming_level\fB] [-f \fIlogfile_name\fB] [-o]
[\fIhost_name\fB ...]\fR
.br
         Sets timing level for RES to include extra timing
         information in log files. You must be the LSF
         administrator to use this command, not root.
.sp 2
         See description of \fRlimtime\fR for an explanation of
         options.
.sp 2
\fBshowconf lim [\fIhost_name\fB ... | all]\fR
.br
         Displays all configured parameters and their values set
         in the lsf.conf or ego.conf file that affect the lim
         daemon.
.sp 2
         By default, the lsadmin command displays the local LIM
         parameters. You can optionally specify the host to
         display the LIM parameters.
.sp 2
         In LSF multicluster capability, the lsadmin showconf
         command displays only the parameters of daemons on the
         local cluster.
.sp 2
         Running the lsadmin showconf command from a management
         candidate host reaches all server hosts in the cluster.
         Running the lsadmin showconf command from a server-only
         host might not be able to reach other server-only hosts.
.sp 2
         You cannot run the lsadmin showconf lim command from
         client hosts. lsadmin shows only server host
         configuration, not client host configuration.
.sp 2
         The lsadmin showconf command displays only the values
         that are used by LSF.
.sp 2
         The LIM daemon reads the \fBEGO_MASTER_LIST\fR parameter
         from wherever it is defined. You can define either the
         \fBLSF_MASTER_LIST\fR parameter in the lsf.conf file or
         the \fBEGO_MASTER_LIST\fR parameter in the ego.conf
         file. If EGO is enabled in the LSF cluster, LIM reads
         the lsf.conf file first, and then the ego.conf file. LIM
         takes only the value of the \fBLSF_MASTER_LIST\fR
         parameter if the \fBEGO_MASTER_LIST\fR parameter is not
         defined at all in the ego.conf file.
.sp 2
         For example, if you define the \fBLSF_MASTER_LIST\fR
         parameter in the lsf.conffile, and the
         \fBEGO_MASTER_LIST\fR parameter in the ego.conf file,
         the lsadmin showconf command displays the value of the
         \fBEGO_MASTER_LIST\fR parameter.
.sp 2
         If EGO is disabled, the ego.conf file is not loaded, so
         whatever is defined in the lsf.conf file is displayed.
.sp 2
\fBhelp [\fIsubcommand\fB ...] | ? [\fIsubcommand\fB ...]\fR
.br
         Displays the syntax and functions of the specified
         subcommands.
.sp 2
         From the command prompt, you can use help or ?.
.sp 2
\fBquit \fR
.br
         Exits the lsadmin session.
.SH See also

.sp 2
bmgroup, busers, lsf.conf, lsf.sudoers, lsf.acct